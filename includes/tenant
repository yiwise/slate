<h1 id='2612df31ea'>公司信息接口</h1><h2 id='2a87ad0cc9'>获取公司列表接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以获取用户所有的公司信息</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": {
        "tenantId": 1,
        "tenantName": "杭州一知智能科技有限公司"
    },
    "requestId": "VCWAHVEJ",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/tenant/getTenant</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>tenantName</td>
<td>String</td>
<td>公司名称</td>
</tr>
<tr>
<td>tenantId</td>
<td>Long</td>
<td>公司Id</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='4ab023febf'>获取公司的主叫电话列表接口</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过接口可以获取指定公司的所有主叫电话的列表</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "code": 200,
  "data": [{
    "tenantPhoneNumberId": 276,
    "phoneNumber": "0000000000",
    "phoneName": "0000000000",
    "phoneType": "MOBILE"
  }],
  "requestId": "ILNBEQJF",
  "resultMsg": "获取成功",
  "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/phone/getPhoneList</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>tenantPhoneNumberId</td>
<td>Long</td>
<td>电话id</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>String</td>
<td>电话号码</td>
</tr>
<tr>
<td>phoneName</td>
<td>String</td>
<td>电话号码名称</td>
</tr>
<tr>
<td>phoneType</td>
<td>String</td>
<td>(MOBILE, &quot;手机&quot;),(LANDLINE, &quot;固话&quot;),(UNFIXED_CALL, &quot;无主叫固话&quot;)</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='ed9cb485c4'>获取公司的机器人话术列表接口</h2><h3 id='7d73d51a26-3'>功能说明：</h3>
<p>通过接口可以获取指定公司的所有配置完成的机器人话术 </p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": [{
        "dialogFlowId": 96,
        "name": "金融理财--行业体验demo"
    }, {
        "dialogFlowId": 136,
        "name": "测试变量"
    }],
    "requestId": "NSLARYGU",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-3'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/dialogFlow/getDialogFlowList</p>
<h3 id='261d12e31d-3'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-3'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7-3'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Integer</td>
<td>机器人话术id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>机器人话术名称</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='19fd9a460c'>话单计费统计</h2><h3 id='7d73d51a26-4'>功能说明：</h3>
<p>通过接口可以获取公司话单计费统计 </p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": {
        "callCostStatsPhoneNumberList": [
            {
                "localDate": "2019-05-23",
                "phoneNumberId": 1,
                "phoneNumberName": "057128204503-1",
                "local": false,
                "answeredCall": 4,
                "chatTimeList": 607,
                "callCostList": 130000,
                "phoneNumber": "057128204503-1",
                "phoneType": "LANDLINE",
                "tenantPhoneNumberStatus": 1,
                "myChatTimeList": 11,
                "myCallCostList": 130
            }
        ],
        "callCostStatsPhoneNumberChat": {
            "2019-04-30": null,
            "2019-05-01": null,
            "2019-05-02": null,
            "2019-05-03": null,
            "2019-05-04": null,
            "2019-05-05": null,
            "2019-05-06": null,
            "2019-05-07": null,
            "2019-05-08": null,
            "2019-05-09": null,
            "2019-05-10": null,
            "2019-05-11": null,
            "2019-05-12": null,
            "2019-05-13": null,
            "2019-05-14": null,
            "2019-05-15": null,
            "2019-05-16": null,
            "2019-05-17": null,
            "2019-05-18": null,
            "2019-05-19": null,
            "2019-05-20": null,
            "2019-05-21": null,
            "2019-05-22": null,
            "2019-05-23": [
                {
                    "localDate": "2019-05-23",
                    "phoneNumberId": 1,
                    "phoneNumberName": "057128204503-1",
                    "local": false,
                    "answeredCall": 4,
                    "chatTimeList": 607,
                    "callCostList": 130000,
                    "phoneNumber": "057128204503-1",
                    "phoneType": "LANDLINE",
                    "tenantPhoneNumberStatus": 1,
                    "myChatTimeList": 11,
                    "myCallCostList": 130
                }
            ],
            "2019-05-24": null,
            "2019-05-25": null,
            "2019-05-26": null,
            "2019-05-27": null,
            "2019-05-28": null,
            "2019-05-29": null,
            "2019-05-30": null
        },
        "smsCostInfoList": [
             "date" :"2019-05-23",  
             "smsAmount":1 ,         
             "smsBillAmount" :1,     
             "smsCost" : 100 ,       
        ],
        "totalPhoneNumberLocal": [
            {
                "phoneNumberId": 1,
                "phoneNumberName": "057128204503-1",
                "phoneNumber": "057128204503-1",
                "local": false,
                "phoneType": "LANDLINE",
                "tenantPhoneNumberStatus": 1
            }
        ]
    },
    "requestId": "REIHDOFP",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-4'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/callStats/callCostStatsInfo</p>
<h3 id='261d12e31d-4'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-4'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>startDate</td>
<td>String</td>
<td>是</td>
<td>开始日期</td>
<td>2019-04-30</td>
</tr>
<tr>
<td>endDate</td>
<td>String</td>
<td>是</td>
<td>结束日期</td>
<td>2019-05-30</td>
</tr>
<tr>
<td>local</td>
<td>Boolean</td>
<td>否</td>
<td>是否本地</td>
<td>true</td>
</tr>
<tr>
<td>phoneNumberId</td>
<td>Long</td>
<td>否</td>
<td>线路ID</td>
<td>1</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
<td>否</td>
<td>类型：0-AI 1-人工外呼 2-ai接待  3-人工接待 4-IVR接待，默认0-AI，默认为0</td>
<td>0</td>
</tr>
<tr>
<td>callInCostType</td>
<td>String</td>
<td>否</td>
<td>ai接待和人工接待的时候才需要传此参数；LOCAL_CALL_BILL 本地呼入计费, OTHER_CALL_BILL 外地呼入计费, LINE_MONTHLY_BILL 线路月租费用，NONE ：&quot;无费用&quot;);</td>
<td>LOCAL_CALL_BILL</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-4'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>localDate</td>
<td>String</td>
<td>时间，年月日</td>
</tr>
<tr>
<td>phoneNumberId</td>
<td>Long</td>
<td>线路id</td>
</tr>
<tr>
<td>phoneNumberName</td>
<td>String</td>
<td>线路名</td>
</tr>
<tr>
<td>local</td>
<td>Boolean</td>
<td>是否本地</td>
</tr>
<tr>
<td>answeredCall</td>
<td>Long</td>
<td>拨通数</td>
</tr>
<tr>
<td>chatTimeList</td>
<td>Long</td>
<td>通话时长，单位为秒</td>
</tr>
<tr>
<td>billChatTimeList</td>
<td>Long</td>
<td>通话计费时长，单位为分钟</td>
</tr>
<tr>
<td>callCostList</td>
<td>Long</td>
<td>话费，单位分</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>String</td>
<td>线路号码</td>
</tr>
<tr>
<td>phoneType</td>
<td>String</td>
<td>线路类型，LANDLINE(1, &quot;L&quot;, &quot;固话&quot;),UNFIXED_CALL(2, &quot;U&quot;, &quot;无主叫&quot;),MOBILE(0, &quot;M&quot;, &quot;手机号码&quot;),CRM_VERBAL_TRICK_TRAINING_CALLER(3, &quot;CVR&quot;, &quot;CRM训练主叫账号&quot;),CRM_VERBAL_TRICK_TRAINING_CALLED(4, &quot;CVD&quot;, &quot;CRM训练被叫账号&quot;),VOIP_DEVICE(5, &quot;D&quot;, &quot;网关设备&quot;),CS_SEAT(11, &quot;CS_SEAT&quot;,&quot;人工外呼&quot;),MESSAGE(12,&quot;MES&quot;,&quot;短信&quot;),CALL_POLICY_GROUP(13, &quot;CALL_POLICY_GROUP&quot;, &quot;外呼策略组&quot;)</td>
</tr>
<tr>
<td>tenantPhoneNumberStatus</td>
<td>Integer</td>
<td>线路是否解绑</td>
</tr>
<tr>
<td>myChatTimeList</td>
<td>long</td>
<td>通话时长，单位为分钟</td>
</tr>
<tr>
<td>myCallCostList</td>
<td>double</td>
<td>话费,单位元</td>
</tr>
<tr>
<td>date</td>
<td>LocalDate</td>
<td>日期</td>
</tr>
<tr>
<td>smsAmount</td>
<td>Long</td>
<td>短信数量</td>
</tr>
<tr>
<td>smsBillAmount</td>
<td>Long</td>
<td>有效计费数</td>
</tr>
<tr>
<td>smsCost</td>
<td>Long</td>
<td>短信费,单位分</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
