<h1 id='9d439be6a3'>任务操作接口</h1><h2 id='7073b68833'>创建任务接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以创建新的任务 </p>
<h3 id='2e118f3054'>更新说明：</h3>
<p>创建任务,支持使用多个无主叫固话,只需设置总并发数,由系统自动分配每个线路的并发。</p>

<blockquote>
<p>JSON 入参实例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"concurrencyQuota"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jobPhoneNumberIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">348</span><span class="p">,</span><span class="mi">369</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"transferPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1523654789"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"1758426896"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"robotCallJob"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"alertUsers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"dailyEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dailyStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gthjoitjdjfdk"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dialogFlowId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"earlyWarningAlertUsers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"inactiveTimeList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="s2">"startTime"</span><span class="p">:</span><span class="s2">"12:00"</span><span class="p">,</span><span class="w"> </span><span class="s2">"endTime"</span><span class="p">:</span><span class="s2">"13:00"</span><span class="p">}],</span><span class="w">
        </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"测试名称3333"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phoneType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LANDLINE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"robotCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"smsAlertLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"A"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"smsTemplateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-21 04:32:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tenantId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"wechatAlertLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"wechatSendMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SENDTOALL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"wechatAlertLevelCode"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"smsAlertLevelCode"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"wechatConditionAlertLevelCode"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"redialCondition"</span><span class="p">:[</span><span class="s2">"CALL_LOSS"</span><span class="p">,</span><span class="s2">"NO_ANSWER"</span><span class="p">,</span><span class="s2">"BUSY"</span><span class="p">,</span><span class="s2">"REFUSED"</span><span class="p">,</span><span class="s2">"POWER_OFF"</span><span class="p">,</span><span class="s2">"OUT_OF_SERVICE"</span><span class="p">,</span><span class="s2">"CAN_NOT_CONNECT"</span><span class="p">,</span><span class="s2">"FROM_PHONE_ERROR"</span><span class="p">,</span><span class="s2">"SYSTEM_ERROR"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"redialInterval"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"redialTimes"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>JSON 响应实例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"robotCallJobId"</span><span class="p">:</span><span class="mi">139</span><span class="p">},</span><span class="w">
    </span><span class="s2">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RKXNIQAF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"修改成功"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errorStackTrace"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/create</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>concurrencyQuota</td>
<td>Integer</td>
<td>是</td>
<td>并发数（线路类型为手机号的时候可不传）</td>
<td>10</td>
</tr>
<tr>
<td>jobPhoneNumberIdList</td>
<td>List</td>
<td>是</td>
<td>任务主叫号码列表 tenant_phone_number_id,当类型是手机号的时候他的size代表机器人的个数，当类型非手机号的时候他的size只能是1；如果外呼方式选择的是外呼策略组，则里面内容为外呼策略组的id（size只能为1）</td>
<td>[1,2,3]</td>
</tr>
<tr>
<td>transferPhoneNumber</td>
<td>List</td>
<td>选择转人工话术时必填</td>
<td>转人工号码,触发转人工时轮训号码列表</td>
<td>[&quot;1523654789&quot;,&quot;1758426896&quot;]</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>是</td>
<td>任务名称</td>
<td>测试API任务</td>
</tr>
<tr>
<td>mode</td>
<td>String</td>
<td>是</td>
<td>任务类型 (AUTO, &quot;自动任务&quot;),(MANUAL, &quot;手动任务&quot;);</td>
<td>AUTO</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>自动任务：是/手动任务：否</td>
<td>任务开始时间</td>
<td>&quot;2017-11-21&quot;</td>
</tr>
<tr>
<td>dailyStartTime</td>
<td>String</td>
<td>是</td>
<td>可拨打开始时间，不可以早于9点</td>
<td>09:00</td>
</tr>
<tr>
<td>dailyEndTime</td>
<td>String</td>
<td>是</td>
<td>可拨打结束时间，不可以晚于20点</td>
<td>20:00</td>
</tr>
<tr>
<td>inactiveTimeList</td>
<td>List</td>
<td>否</td>
<td>不可拨打时间段列表,最大三个不可拨打时段</td>
<td>[{&quot;startTime&quot;:&quot;12:00&quot;, &quot;endTime&quot;:&quot;13:00&quot;}]</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>String</td>
<td>是</td>
<td>话术id</td>
<td>139</td>
</tr>
<tr>
<td>csStaffGroupId</td>
<td>Long</td>
<td>是</td>
<td>坐席组id，通过话术API中获取人工介入标识。如果存在人工介入标识，需要传入坐席组Id</td>
<td>139</td>
</tr>
<tr>
<td>alertUsers</td>
<td>String</td>
<td>否</td>
<td>提醒的用户的id列表</td>
<td>[1,2]</td>
</tr>
<tr>
<td>earlyWarningAlertUsers</td>
<td>String</td>
<td>否</td>
<td>行业预警消息推送人</td>
<td>[1,2]</td>
</tr>
<tr>
<td>robotCount</td>
<td>Integer</td>
<td>是</td>
<td>机器人数</td>
<td>10</td>
</tr>
<tr>
<td>phoneType</td>
<td>String</td>
<td>是</td>
<td>号码类型 (MOBILE, &quot;手机号码&quot;),(LANDLINE, &quot;固话&quot;),(UNFIXED_CALL, &quot;无主叫&quot;), (CALL_POLICY_GROUP, &quot;外呼策略组&quot;)</td>
<td>UNFIXED_CALL</td>
</tr>
<tr>
<td>smsAlertLevel</td>
<td>String</td>
<td>否</td>
<td>短信推送提醒意向等级</td>
<td>[&quot;A&quot;,&quot;B&quot;]</td>
</tr>
<tr>
<td>smsTemplateId</td>
<td>Long</td>
<td>否</td>
<td>短信模板id</td>
<td></td>
</tr>
<tr>
<td>wechatAlertLevel</td>
<td>String</td>
<td>否</td>
<td>微信推送提醒意向等级</td>
<td>[&quot;A&quot;,&quot;B&quot;]</td>
</tr>
<tr>
<td>wechatSendMethod</td>
<td>String</td>
<td>否</td>
<td>微信推送方式（SENDTOALL，全推送），（SENDTOONE，单推送），（SENDTONONE 不推送）</td>
<td>SENDTOALL</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>否</td>
<td>备注</td>
<td>测试</td>
</tr>
<tr>
<td>wechatAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>微信推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>smsAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>短信推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>wechatConditionAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>微信条件推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>redialCondition</td>
<td>Set</td>
<td>选择自动重拨时必填</td>
<td>重拨条件(CALL_LOSS,&quot;呼损客户&quot;),(NO_ANSWER,&quot;无应答&quot;),(BUSY,&quot;忙线中&quot;),(REFUSED,&quot;拒接&quot;),(POWER_OFF,&quot;关机&quot;),(OUT_OF_SERVICE,&quot;停机&quot;),(CAN_NOT_CONNECT,“无法接通“),(FROM_PHONE_ERROR,&quot;主叫欠费&quot;),(SYSTEM_ERROR,&quot;外呼失败&quot;)</td>
<td>[&quot;CALL_LOSS&quot;]</td>
</tr>
<tr>
<td>redialInterval</td>
<td>Integer</td>
<td>选择自动重拨时必填</td>
<td>重拨间隔(分钟，取值范围6分钟~24 x 60分钟)</td>
<td>6</td>
</tr>
<tr>
<td>redialTimes</td>
<td>Integer</td>
<td>选择自动重拨时必填</td>
<td>重拨次数(取值范围1~10）</td>
<td>6</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>刚刚创建的任务ID</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='6334004180'>启动任务接口</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过此接口可以启动指定的任务</p>

<blockquote>
<p>JSON 响应实例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RKXNIQAF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"修改成功"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errorStackTrace"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/start</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='93a2bc390a'>暂停任务接口</h2><h3 id='7d73d51a26-3'>功能说明：</h3>
<p>通过此接口可以暂停指定的任务</p>

<blockquote>
<p>JSON 响应实例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RKXNIQAF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"修改成功"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errorStackTrace"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='c7811523ac-3'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/pause</p>
<h3 id='261d12e31d-3'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-3'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Integer</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-3'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='15db7fdc1e'>停止任务接口</h2><h3 id='7d73d51a26-4'>功能说明：</h3>
<p>通过此接口可以停止  指定的任务</p>

<blockquote>
<p>JSON 响应实例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RKXNIQAF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"修改成功"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errorStackTrace"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='c7811523ac-4'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/stop</p>
<h3 id='261d12e31d-4'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-4'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Integer</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-4'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='0705816c68'>删除任务</h2><h3 id='7d73d51a26-5'>功能说明：</h3>
<p>通过调用此接口可以删除任务信息</p>

<blockquote>
<p>JSON 入参实例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"robotCallJobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>JSON 响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": null,
    "requestId": "GDFVVSAE",
    "resultMsg": "删除成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-5'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/delete</p>
<h3 id='261d12e31d-5'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-5'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>删除任务</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-5'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='723af6367b'>向任务中导入客户接口</h2><h3 id='7d73d51a26-6'>功能说明：</h3>
<p>通过此接口可以向指定的任务导入客户信息，用于拨打电话。（单次导入客户数量不能大于100）</p>

<blockquote>
<p>JSON 入参实例:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"robotCallJobId"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customerPersons"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11111111111"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"欠款金额"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"最后还款日期"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018年10月3日"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>JSON 响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code> {
    "code": 200,
    "data": null,
    "requestId": "RKXNIQAF",
    "resultMsg": "修改成功",
    "errorStackTrace": null
 }

</code></pre><h3 id='c7811523ac-6'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/importCustomer</p>
<h3 id='261d12e31d-6'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-6'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>否</td>
<td>客户名称</td>
<td>张三</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>String</td>
<td>是</td>
<td>客户电话</td>
<td>13998987676</td>
</tr>
<tr>
<td>properties</td>
<td>Map<String,String></td>
<td>否</td>
<td>话术中自定义的语句内容</td>
<td>请看json入参</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-6'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='ai'>修改任务并发数（AI坐席数量）</h2><h3 id='7d73d51a26-7'>功能说明：</h3>
<p>通过接口可以更改AI坐席数量，功能同crm端编辑话术时修改外呼号码的AI坐席数</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "robotCallJobId": 28,
    "robotCount": 2
}

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": null,
    "requestId": "RKXNIQAF",
    "resultMsg": "导入成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-7'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/updateAiCount</p>
<h3 id='261d12e31d-7'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-7'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
<tr>
<td>robotCount</td>
<td>Integer</td>
<td>是</td>
<td>任务数量</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='99f3f85dbc'>（开始/暂停/终止所有任务前）检查所有任务</h2><h3 id='7d73d51a26-8'>功能说明：</h3>
<p>通过接口可以在开始/暂停/终止所有任务前检查所有任务</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>{
        "operation": "PAUSE",                    
        "robotCallJobIdSet": [11445,44564],      
        "statusSet": [                             
          "IN_PROCESS"
        ],
        "name": "模糊查询",                         
        "beginCreateDate": "2018-10-10"            
        "endCreateDate": "2018-10-12"             
      }

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
          "code": 200,
          "data": {
              "executable": [                                           
               {
                      "robotCallJobId":33,                               
                      "robotCallJobName":"熊隆祥重新添加到拨打任务调试",
                      "createTime":"2018-10-11 11:21:36",                
                      "createUserName":"超管",                           
                      "status":"NOT_STARTED",                           
                      "hangUpType":"PHONE_UNBIND",                       
                      "hangUpReason":"使用的线路已解绑",                
                      "statsInfo":{                                      
                          "robotCallJobId":33,                           
                          "completedTask":1,                           
                          "totalTask":1，                                
                          "answeredTask":1,                              
                          "ablevelCustomer"：1                          
                      }
                  }
              ],
              "unexecutable": [                                         
              {
                          "msg":""                                      
                          "statsInfo":                                   
                          {
                          "robotCallJobId":33,                          
                          "completedTask":1,                           
                          "totalTask":1，                            
                          "answeredTask":1,                             
                          "ablevelCustomer"：1                        
                           }
                 }
              ]
          },
          "requestId": "IJAQKCWI",
          "resultMsg": "操作成功",
          "errorStackTrace": null
      }
        "requestId": "BWPTZMQZ",
        "resultMsg": "操作成功",
        "errorStackTrace": null
      }

</code></pre><h3 id='c7811523ac-8'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/checkAll</p>
<h3 id='261d12e31d-8'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-8'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>operation</td>
<td>String</td>
<td>是</td>
<td>操作类型，必填 PAUSE:暂停 START:开始</td>
<td>PAUSE</td>
</tr>
<tr>
<td>robotCallJobIdSet</td>
<td>Set</td>
<td>是</td>
<td>任务id集合</td>
<td>[11445,44564]</td>
</tr>
<tr>
<td>statusSet</td>
<td>String</td>
<td>否</td>
<td>任务状态，NOT_STARTED(0, &quot;未开始&quot;),IN_PROCESS(1, &quot;进行中&quot;)，COMPLETED(2, &quot;已完成&quot;),RUNNABLE(3, &quot;可运行&quot;),USER_PAUSE(4, &quot;用户暂停&quot;),SYSTEM_SUSPENDED(5, &quot;系统暂停&quot;)，TERMINATE(6, &quot;已终止&quot;),IN_QUEUE(7, &quot;排队中&quot;),SYSTEM_HANG_UP(10, &quot;系统挂起&quot;),WAITING_FOR_REDIAL(11, &quot;等待重呼&quot;),ACCOUNT_DISABLE(12, &quot;账户禁用&quot;),MAINTAIN(13, &quot;系统维护&quot;);</td>
<td>IN_PROCESS</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>否</td>
<td>任务名称</td>
<td>我是任务名</td>
</tr>
<tr>
<td>beginCreateDate</td>
<td>LocalDate</td>
<td>否</td>
<td>开始任务创建日期</td>
<td>2018-10-10</td>
</tr>
<tr>
<td>endCreateDate</td>
<td>LocalDate</td>
<td>否</td>
<td>结束任务创建日期</td>
<td>2018-10-12</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-8'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>robotCallJobName</td>
<td>String</td>
<td>任务名</td>
</tr>
<tr>
<td>createTime</td>
<td>LocalDateTime</td>
<td>创建时间</td>
</tr>
<tr>
<td>createUserName</td>
<td>String</td>
<td>任务创建人</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>任务状态，NOT_STARTED(0, &quot;未开始&quot;),IN_PROCESS(1, &quot;进行中&quot;)，COMPLETED(2, &quot;已完成&quot;),RUNNABLE(3, &quot;可运行&quot;),USER_PAUSE(4, &quot;用户暂停&quot;),SYSTEM_SUSPENDED(5, &quot;系统暂停&quot;)，TERMINATE(6, &quot;已终止&quot;),IN_QUEUE(7, &quot;排队中&quot;),SYSTEM_HANG_UP(10, &quot;系统挂起&quot;),WAITING_FOR_REDIAL(11, &quot;等待重呼&quot;),ACCOUNT_DISABLE(12, &quot;账户禁用&quot;),MAINTAIN(13, &quot;系统维护&quot;);</td>
</tr>
<tr>
<td>hangUpType</td>
<td>String</td>
<td>系统挂起类型  ACCOUNT_DEBT(0, &quot;账户欠费&quot;, &quot;使用的线路账户已欠费&quot;),NO_ROBOT_AVAILABLE(1, &quot;没有可用坐席&quot;, &quot;当前没有可用坐席&quot;),PHONE_UNBIND(2, &quot;线路已解绑&quot;, &quot;使用的线路已解绑&quot;),LINE_BREAKDOWN(3, &quot;线路故障&quot;, &quot;使用的线路状态均为故障&quot;),AVAILABLE_ROBOT_NOT_ENOUGH(4,&quot;有效坐席数不足&quot;,&quot;有效坐席数不足，请检查有效AI坐席数量！&quot;);</td>
</tr>
<tr>
<td>hangUpReason</td>
<td>String</td>
<td>系统挂起原因</td>
</tr>
<tr>
<td>completedTask</td>
<td>Long</td>
<td>已完成的任务总量</td>
</tr>
<tr>
<td>totalTask</td>
<td>Long</td>
<td>任务总数</td>
</tr>
<tr>
<td>answeredTask</td>
<td>Long</td>
<td>接通电话总量</td>
</tr>
<tr>
<td>ablevelCustomer</td>
<td>Long</td>
<td>AB类客户数量</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>信息</td>
</tr>
</tbody></table>

<p>##执行（开始，暂停）所有任务</p>
<h3 id='7d73d51a26-9'>功能说明：</h3>
<p>通过接口可以执行（开始，暂停）所有任务</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>{
        "operation": "PAUSE",                     
        "executable": [                         
          {
                            "robotCallJobId":33,                              
                            "robotCallJobName":"熊隆祥重新添加到拨打任务调试", 
                            "createTime":"2018-10-11 11:21:36",                
                            "createUserName":"超管",                           
                            "status":"NOT_STARTED",                         
                            "hangUpType":"PHONE_UNBIND",                      
                            "hangUpReason":"使用的线路已解绑",                 
                            "statsInfo":{                                     
                                "robotCallJobId":33,                           
                                "completedTask":1,                             
                                "totalTask":1，                               
                                "answeredTask":1,                             
                                "ablevelCustomer"：1                          
                            }
           }
        ]
      }

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
        "code": 200,
        "data":
          {
            "robotCallJobId": 56,                          
            "robotCallJobName": "lxc-测试1",               
            "msg": "该任务状态(已完成)不可开始"           
          }
        ],
        "requestId": "HYDMKHZF",
        "resultMsg": "操作成功",
        "errorStackTrace": null
      }

</code></pre><h3 id='c7811523ac-9'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/executeJobs</p>
<h3 id='261d12e31d-9'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-9'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>operation</td>
<td>String</td>
<td>是</td>
<td>操作类型</td>
<td>PAUSE</td>
</tr>
<tr>
<td>executable</td>
<td>List</td>
<td>是</td>
<td>操作任务</td>
<td></td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>否</td>
<td>任务id</td>
<td>1</td>
</tr>
<tr>
<td>robotCallJobName</td>
<td>String</td>
<td>否</td>
<td>任务名</td>
<td>测试任务</td>
</tr>
<tr>
<td>createTime</td>
<td>LocalDateTime</td>
<td>否</td>
<td>创建时间</td>
<td>2018-10-11 11:21:36</td>
</tr>
<tr>
<td>createUserName</td>
<td>String</td>
<td>否</td>
<td>任务创建人</td>
<td>jack</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>否</td>
<td>任务状态，NOT_STARTED(0, &quot;未开始&quot;),IN_PROCESS(1, &quot;进行中&quot;)，COMPLETED(2, &quot;已完成&quot;),RUNNABLE(3, &quot;可运行&quot;),USER_PAUSE(4, &quot;用户暂停&quot;),SYSTEM_SUSPENDED(5, &quot;系统暂停&quot;)，TERMINATE(6, &quot;已终止&quot;),IN_QUEUE(7, &quot;排队中&quot;),SYSTEM_HANG_UP(10, &quot;系统挂起&quot;),WAITING_FOR_REDIAL(11, &quot;等待重呼&quot;),ACCOUNT_DISABLE(12, &quot;账户禁用&quot;),MAINTAIN(13, &quot;系统维护&quot;);</td>
<td>NOT_STARTED</td>
</tr>
<tr>
<td>hangUpType</td>
<td>String</td>
<td>否</td>
<td>系统挂起类型  ACCOUNT_DEBT(0, &quot;账户欠费&quot;, &quot;使用的线路账户已欠费&quot;),NO_ROBOT_AVAILABLE(1, &quot;没有可用坐席&quot;, &quot;当前没有可用坐席&quot;),PHONE_UNBIND(2, &quot;线路已解绑&quot;, &quot;使用的线路已解绑&quot;),LINE_BREAKDOWN(3, &quot;线路故障&quot;, &quot;使用的线路状态均为故障&quot;),AVAILABLE_ROBOT_NOT_ENOUGH(4,&quot;有效坐席数不足&quot;,&quot;有效坐席数不足，请检查有效AI坐席数量！&quot;);</td>
<td>PHONE_UNBIND</td>
</tr>
<tr>
<td>hangUpReason</td>
<td>String</td>
<td>否</td>
<td>系统挂起原因</td>
<td>xxx</td>
</tr>
<tr>
<td>completedTask</td>
<td>Long</td>
<td>否</td>
<td>已完成的任务总量</td>
<td>100</td>
</tr>
<tr>
<td>totalTask</td>
<td>Long</td>
<td>否</td>
<td>任务总数</td>
<td>1000</td>
</tr>
<tr>
<td>answeredTask</td>
<td>Long</td>
<td>否</td>
<td>接通电话总量</td>
<td>50</td>
</tr>
<tr>
<td>ablevelCustomer</td>
<td>Long</td>
<td>否</td>
<td>AB类客户数量</td>
<td>10</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-9'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>robotCallJobName</td>
<td>String</td>
<td>任务名</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>信息</td>
</tr>
</tbody></table>
<h2 id='27843a5962'>修改任务接口</h2><h3 id='7d73d51a26-10'>功能说明：</h3>
<p>通过此接口可以修改任务 </p>

<blockquote>
<p>JSON 入参实例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"concurrencyQuota"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jobPhoneNumberIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">348</span><span class="p">,</span><span class="mi">369</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"transferPhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1523654789"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"1758426896"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"robotCallJob"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"alertUsers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"dailyEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dailyStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gthjoitjdjfdk"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dialogFlowId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"earlyWarningAlertUsers"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"inactiveTimeList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="s2">"startTime"</span><span class="p">:</span><span class="s2">"12:00"</span><span class="p">,</span><span class="w"> </span><span class="s2">"endTime"</span><span class="p">:</span><span class="s2">"13:00"</span><span class="p">}],</span><span class="w">
        </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"测试名称3333"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phoneType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LANDLINE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"robotCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"smsAlertLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"A"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"smsTemplateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-21 04:32:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tenantId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"wechatAlertLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"wechatSendMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SENDTOALL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"wechatAlertLevelCode"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"smsAlertLevelCode"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"wechatConditionAlertLevelCode"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"redialCondition"</span><span class="p">:[</span><span class="s2">"CALL_LOSS"</span><span class="p">,</span><span class="s2">"NO_ANSWER"</span><span class="p">,</span><span class="s2">"BUSY"</span><span class="p">,</span><span class="s2">"REFUSED"</span><span class="p">,</span><span class="s2">"POWER_OFF"</span><span class="p">,</span><span class="s2">"OUT_OF_SERVICE"</span><span class="p">,</span><span class="s2">"CAN_NOT_CONNECT"</span><span class="p">,</span><span class="s2">"FROM_PHONE_ERROR"</span><span class="p">,</span><span class="s2">"SYSTEM_ERROR"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"redialInterval"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"redialTimes"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>JSON 响应实例：</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"robotCallJobId"</span><span class="p">:</span><span class="mi">139</span><span class="p">},</span><span class="w">
    </span><span class="s2">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RKXNIQAF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resultMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"修改成功"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errorStackTrace"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='c7811523ac-10'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/modify</p>
<h3 id='261d12e31d-10'>请求方法：</h3>
<p>PATCH</p>
<h3 id='2eb6f47757-10'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>concurrencyQuota</td>
<td>Integer</td>
<td>是</td>
<td>并发数（线路类型为手机号的时候可不传）</td>
<td>10</td>
</tr>
<tr>
<td>jobPhoneNumberIdList</td>
<td>List</td>
<td>是</td>
<td>任务主叫号码列表 tenant_phone_number_id,当类型是手机号的时候他的size代表机器人的个数，当类型非手机号的时候他的size只能是1；如果外呼方式选择的是外呼策略组，则里面内容为外呼策略组的id（size只能为1）</td>
<td>[1,2,3]</td>
</tr>
<tr>
<td>transferPhoneNumber</td>
<td>List</td>
<td>选择转人工话术时必填</td>
<td>转人工号码,触发转人工时轮训号码列表</td>
<td>[&quot;1523654789&quot;,&quot;1758426896&quot;]</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>是</td>
<td>任务名称</td>
<td>测试API任务</td>
</tr>
<tr>
<td>mode</td>
<td>String</td>
<td>是</td>
<td>任务类型 (AUTO, &quot;自动任务&quot;),(MANUAL, &quot;手动任务&quot;);</td>
<td>AUTO</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>自动任务：是/手动任务：否</td>
<td>任务开始时间</td>
<td>&quot;2017-11-21&quot;</td>
</tr>
<tr>
<td>dailyStartTime</td>
<td>String</td>
<td>是</td>
<td>可拨打开始时间，不可以早于9点</td>
<td>09:00</td>
</tr>
<tr>
<td>dailyEndTime</td>
<td>String</td>
<td>是</td>
<td>可拨打结束时间，不可以晚于20点</td>
<td>20:00</td>
</tr>
<tr>
<td>inactiveTimeList</td>
<td>List</td>
<td>否</td>
<td>不可拨打时间段列表,最大三个不可拨打时段</td>
<td>[{&quot;startTime&quot;:&quot;12:00&quot;, &quot;endTime&quot;:&quot;13:00&quot;}]</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>String</td>
<td>是</td>
<td>话术id</td>
<td>139</td>
</tr>
<tr>
<td>csStaffGroupId</td>
<td>Long</td>
<td>是</td>
<td>坐席组id，通过话术API中获取人工介入标识。如果存在人工介入标识，需要传入坐席组Id</td>
<td>139</td>
</tr>
<tr>
<td>alertUsers</td>
<td>String</td>
<td>否</td>
<td>提醒的用户的id列表</td>
<td>[1,2]</td>
</tr>
<tr>
<td>earlyWarningAlertUsers</td>
<td>String</td>
<td>否</td>
<td>行业预警消息推送人</td>
<td>[1,2]</td>
</tr>
<tr>
<td>phoneType</td>
<td>String</td>
<td>是</td>
<td>号码类型 (MOBILE, &quot;手机号码&quot;),(LANDLINE, &quot;固话&quot;),(UNFIXED_CALL, &quot;无主叫&quot;), (CALL_POLICY_GROUP, &quot;外呼策略组&quot;)</td>
<td>UNFIXED_CALL</td>
</tr>
<tr>
<td>smsAlertLevel</td>
<td>String</td>
<td>否</td>
<td>短信推送提醒意向等级</td>
<td>[&quot;A&quot;,&quot;B&quot;]</td>
</tr>
<tr>
<td>smsTemplateId</td>
<td>Long</td>
<td>否</td>
<td>短信模板id</td>
<td></td>
</tr>
<tr>
<td>wechatAlertLevel</td>
<td>String</td>
<td>否</td>
<td>微信推送提醒意向等级</td>
<td>[&quot;A&quot;,&quot;B&quot;]</td>
</tr>
<tr>
<td>wechatSendMethod</td>
<td>String</td>
<td>否</td>
<td>微信推送方式（SENDTOALL，全推送），（SENDTOONE，单推送），（SENDTONONE 不推送）</td>
<td>SENDTOALL</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>否</td>
<td>备注</td>
<td>测试</td>
</tr>
<tr>
<td>wechatAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>微信推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>smsAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>短信推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>wechatConditionAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>微信条件推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>redialCondition</td>
<td>Set</td>
<td>选择自动重拨时必填</td>
<td>重拨条件(CALL_LOSS,&quot;呼损客户&quot;),(NO_ANSWER,&quot;无应答&quot;),(BUSY,&quot;忙线中&quot;),(REFUSED,&quot;拒接&quot;),(POWER_OFF,&quot;关机&quot;),(OUT_OF_SERVICE,&quot;停机&quot;),(CAN_NOT_CONNECT,“无法接通“),(FROM_PHONE_ERROR,&quot;主叫欠费&quot;),(SYSTEM_ERROR,&quot;外呼失败&quot;)</td>
<td>[&quot;CALL_LOSS&quot;]</td>
</tr>
<tr>
<td>redialInterval</td>
<td>Integer</td>
<td>选择自动重拨时必填</td>
<td>重拨间隔(分钟，取值范围6分钟~24 x 60分钟)</td>
<td>6</td>
</tr>
<tr>
<td>redialTimes</td>
<td>Integer</td>
<td>选择自动重拨时必填</td>
<td>重拨次数(取值范围1~10）</td>
<td>6</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-10'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>刚刚创建的任务ID</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='f56ab2a0fe'>已呼客户列表重新添加客户到呼叫任务</h2><h3 id='7d73d51a26-11'>功能说明：</h3>
<p>通过接口可以在已呼客户列表中重新添加客户到呼叫任务</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>{
             "robotCallJobId": 1,         
              "customerPersonIds": [       
                    1919005, 1919006
               ],
             "lastCallRecord": true,              
             "searchWords": "12323424",           
             "customerGroupId": 1,              
             "resultStatuses": ["ANSWERED", "REFUSED"], 
             "intentLevels": [                
               "A"
             ],
             "followStatus": "AI_INITIAL_VISIT",  
             "dialogFlowId": 2,                   
             "earliestCreationTime" :  "2018-07-25" ,          
             "latestCreationTime" :  "2018-07-30" ,            
       }

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
          "code": 200,
          "data": null,
          "requestId": "WYPNOVHI",
          "resultMsg": "添加成功",
          "errorStackTrace": null
      }

</code></pre><h3 id='c7811523ac-11'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/reAddCustomerToJob</p>
<h3 id='261d12e31d-11'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-11'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
<tr>
<td>customerPersonIds</td>
<td>List<Long></td>
<td>是</td>
<td>需要添加的客户id</td>
<td>customerPersonIds: [  1919005, 1919006  ]</td>
</tr>
<tr>
<td>lastCallRecord</td>
<td>Boolean</td>
<td>否</td>
<td>是否过滤重复通话记录只显示最近的一条</td>
<td>true</td>
</tr>
<tr>
<td>searchWords</td>
<td>String</td>
<td>否</td>
<td>通过手机号码或者用户名通话记录ID模糊搜索筛选</td>
<td>xxx</td>
</tr>
<tr>
<td>customerGroupId</td>
<td>Long</td>
<td>否</td>
<td>分组id</td>
<td>1</td>
</tr>
<tr>
<td>resultStatuses</td>
<td>List</td>
<td>否</td>
<td>ANSWERED(0, &quot;已接听&quot;, null), NO_ANSWER(1, &quot;无应答&quot;, &quot;呼叫号码未接听&quot;), BUSY(2, &quot;忙线中&quot;, &quot;呼叫号码占线&quot;), POWER_OFF(3, &quot;关机&quot;, &quot;呼叫号码关机&quot;), OUT_OF_SERVICE(4, &quot;停机&quot;, &quot;呼叫号码停机&quot;), REFUSED(5, &quot;拒接&quot;, &quot;呼叫号码拒接&quot;), VACANT_NUMBER(6, &quot;空号&quot;, &quot;呼叫的号码是空号&quot;), CAN_NOT_CONNECT(7, &quot;无法接通&quot;, &quot;呼叫的号码无法接通&quot;),                 FROM_PHONE_ERROR(8, &quot;主叫停机&quot;, &quot;主叫号码不可用&quot;),                   SYSTEM_ERROR(9, &quot;系统错误&quot;, &quot;外呼失败，系统错误&quot;),                             CALL_LOSS(10,&quot;多并发呼损&quot;,&quot;等待服务中用户挂断&quot;), TRANSFER_ARTIFICIAL(11,&quot;转人工呼损&quot;,&quot;等待转人工服务中用户挂断&quot;);</td>
<td>[&quot;ANSWERED&quot;, &quot;REFUSED&quot;]</td>
</tr>
<tr>
<td>intentLevels</td>
<td>List</td>
<td>否</td>
<td>意向等级A(0, &quot;A级(较强)&quot;), B(1, &quot;B级(一般)&quot;), C(2, &quot;C级(无法判断)&quot;), D(3, &quot;D级(很少)&quot;), E(4, &quot;E级别(需要再次跟进)&quot;), F(5, &quot;F级别(无需再次跟进)&quot;);</td>
<td>[&quot;A&quot;,&quot;B&quot;]</td>
</tr>
<tr>
<td>followStatus</td>
<td>String</td>
<td>否</td>
<td>跟进状态CLUE(0, &quot;线索&quot;), AI_INITIAL_VISIT(1, &quot;AI初访&quot;), PEOPLE_INITIAL_VISIT(2, &quot;人工初访&quot;), AI_FOLLOW_UP(3, &quot;AI持续跟进&quot;), PEOPLE_FOLLOW_UP(4, &quot;人工持续跟进&quot;), QUOTE(5, &quot;报价&quot;), DEAL(6, &quot;成交&quot;), LOSS(7, &quot;流失&quot;);</td>
<td>AI_INITIAL_VISIT</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Long</td>
<td>否</td>
<td>话术ID</td>
<td>1</td>
</tr>
<tr>
<td>earliestCreationTime</td>
<td>LocalDate</td>
<td>否</td>
<td>最早创建时间，日期标准格式，请不要包含时间。可以为空</td>
<td>2018-07-25</td>
</tr>
<tr>
<td>latestCreationTime</td>
<td>LocalDate</td>
<td>否</td>
<td>最晚创建时间，日期标准格式，请不要包含时间。可以为空</td>
<td>2018-07-30</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-11'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='80687af628'>获取任务统计相关信息（总量，完成量）</h2><h3 id='7d73d51a26-12'>功能说明：</h3>
<p>通过接口可以获取任务统计相关信息（总量，完成量）</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>{
     [                                  
        "1017",
        "1014",
        "1013"
      ]
}

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
        "code": 200,
        "data": {
          "1013": {            
            "taskTotal": 0,     
            "taskCompleted": 0 
          },
          "1014": {
            "taskTotal": 31455,
            "taskCompleted": 0
          },
          "1017": {
            "taskTotal": 1,
            "taskCompleted": 1
          }
        },
        "requestId": "IOKMTMXV",
        "resultMsg": "获取成功",
        "errorStackTrace": null
      }

</code></pre><h3 id='c7811523ac-12'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/getJobStatsInfoList</p>
<h3 id='261d12e31d-12'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-12'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>List</td>
<td>是</td>
<td>任务id的列表</td>
<td>[ &quot;1017&quot;,  &quot;1014&quot;,  &quot;1013&quot;  ]</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-12'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
<tr>
<td>taskTotal</td>
<td>Long</td>
<td>总任务</td>
</tr>
<tr>
<td>taskCompleted</td>
<td>Long</td>
<td>完成任务量</td>
</tr>
</tbody></table>
