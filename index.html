
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>一知智能对外API文档（非经销商客户）</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#5ea2e0cde2" class="toc-h1 toc-link" data-title="简介">简介</a>
          </li>
          <li>
            <a href="#18d1449c7d" class="toc-h1 toc-link" data-title="开发引导">开发引导</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#c2587a41e7" class="toc-h2 toc-link" data-title="调用说明">调用说明</a>
                  </li>
                  <li>
                    <a href="#352e86fb3a" class="toc-h2 toc-link" data-title="权限认证">权限认证</a>
                  </li>
                  <li>
                    <a href="#bbf1456045" class="toc-h2 toc-link" data-title="统一请求格式">统一请求格式</a>
                  </li>
                  <li>
                    <a href="#java-sdk-demo" class="toc-h2 toc-link" data-title="JAVA SDK DEMO 下载">JAVA SDK DEMO 下载</a>
                  </li>
                  <li>
                    <a href="#e352b2a3cc" class="toc-h2 toc-link" data-title="最佳实践流程图:">最佳实践流程图:</a>
                  </li>
                  <li>
                    <a href="#966dc24d9e" class="toc-h2 toc-link" data-title="常见问题解答">常见问题解答</a>
                  </li>
                  <li>
                    <a href="#362ce418e7" class="toc-h2 toc-link" data-title="流程说明">流程说明</a>
                  </li>
                  <li>
                    <a href="#6af18eb20f" class="toc-h2 toc-link" data-title="枚举类型说明">枚举类型说明</a>
                  </li>
                  <li>
                    <a href="#42d5497355" class="toc-h2 toc-link" data-title="错误码信息">错误码信息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#f628cebc7d" class="toc-h1 toc-link" data-title="最近更新日志">最近更新日志</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2018-10-10" class="toc-h2 toc-link" data-title="2018年10月10日第一版本">2018年10月10日第一版本</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#isv" class="toc-h1 toc-link" data-title="isv对象操作">isv对象操作</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#isv-2" class="toc-h2 toc-link" data-title="修改ISV对象的公司签名和回调地址">修改ISV对象的公司签名和回调地址</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#2612df31ea" class="toc-h1 toc-link" data-title="公司信息接口">公司信息接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2a87ad0cc9" class="toc-h2 toc-link" data-title="获取公司列表接口">获取公司列表接口</a>
                  </li>
                  <li>
                    <a href="#4ab023febf" class="toc-h2 toc-link" data-title="获取公司的主叫电话列表接口">获取公司的主叫电话列表接口</a>
                  </li>
                  <li>
                    <a href="#ed9cb485c4" class="toc-h2 toc-link" data-title="获取公司的机器人话术列表接口">获取公司的机器人话术列表接口</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c9bfaaef9d" class="toc-h1 toc-link" data-title="人工坐席接口">人工坐席接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#6a9cfa19c4" class="toc-h2 toc-link" data-title="获取人工坐席列表接口">获取人工坐席列表接口</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bda2edd407" class="toc-h1 toc-link" data-title="话术接口">话术接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a6c51200d8" class="toc-h2 toc-link" data-title="获取话术列表接口">获取话术列表接口</a>
                  </li>
                  <li>
                    <a href="#3638079c5a" class="toc-h2 toc-link" data-title="获取话术中存在人工介入和转人工等标识">获取话术中存在人工介入和转人工等标识</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#727a7b8d8f" class="toc-h1 toc-link" data-title="意向标签组接口">意向标签组接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a7bde703a4" class="toc-h2 toc-link" data-title="获取已使用的意向标签组列表接口">获取已使用的意向标签组列表接口</a>
                  </li>
                  <li>
                    <a href="#fcf2f38ba4" class="toc-h2 toc-link" data-title="获取意向标签内容">获取意向标签内容</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#9d439be6a3" class="toc-h1 toc-link" data-title="任务操作接口">任务操作接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7073b68833" class="toc-h2 toc-link" data-title="创建任务接口">创建任务接口</a>
                  </li>
                  <li>
                    <a href="#6334004180" class="toc-h2 toc-link" data-title="启动任务接口">启动任务接口</a>
                  </li>
                  <li>
                    <a href="#93a2bc390a" class="toc-h2 toc-link" data-title="暂停任务接口">暂停任务接口</a>
                  </li>
                  <li>
                    <a href="#15db7fdc1e" class="toc-h2 toc-link" data-title="停止任务接口">停止任务接口</a>
                  </li>
                  <li>
                    <a href="#0705816c68" class="toc-h2 toc-link" data-title="删除任务">删除任务</a>
                  </li>
                  <li>
                    <a href="#723af6367b" class="toc-h2 toc-link" data-title="向任务中导入客户接口">向任务中导入客户接口</a>
                  </li>
                  <li>
                    <a href="#ai" class="toc-h2 toc-link" data-title="修改任务并发数（AI坐席数量）">修改任务并发数（AI坐席数量）</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#b8663b3278" class="toc-h1 toc-link" data-title="任务信息查询接口">任务信息查询接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#63369839c4" class="toc-h2 toc-link" data-title="获取任务列表接口">获取任务列表接口</a>
                  </li>
                  <li>
                    <a href="#4b97fb63c0" class="toc-h2 toc-link" data-title="获取任务详情接口">获取任务详情接口</a>
                  </li>
                  <li>
                    <a href="#7ed6838292" class="toc-h2 toc-link" data-title="获取任务统计接口">获取任务统计接口</a>
                  </li>
                  <li>
                    <a href="#ce576131d5" class="toc-h2 toc-link" data-title="获取任务中的变量（包括话术变量和短信变量）">获取任务中的变量（包括话术变量和短信变量）</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ede290fd8b" class="toc-h1 toc-link" data-title="任务完成电话信息查询接口">任务完成电话信息查询接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#872ca4f7a9" class="toc-h2 toc-link" data-title="获取已经完成任务电话号码接口">获取已经完成任务电话号码接口</a>
                  </li>
                  <li>
                    <a href="#6229f5f8cf" class="toc-h2 toc-link" data-title="获取一个通话的详情接口">获取一个通话的详情接口</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#5091ae52ef" class="toc-h1 toc-link" data-title="任务信息回调接口">任务信息回调接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#f27f4cb938" class="toc-h2 toc-link" data-title="回调说明">回调说明</a>
                  </li>
                  <li>
                    <a href="#aff5c1bc4f" class="toc-h2 toc-link" data-title="请求方法说明">请求方法说明</a>
                  </li>
                  <li>
                    <a href="#datatype" class="toc-h2 toc-link" data-title="dataType支持类型说明">dataType支持类型说明</a>
                  </li>
                  <li>
                    <a href="#3e45815d37" class="toc-h2 toc-link" data-title="通话记录回调接口">通话记录回调接口</a>
                  </li>
                  <li>
                    <a href="#0510043503" class="toc-h2 toc-link" data-title="任务完成详情回调接口">任务完成详情回调接口</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='5ea2e0cde2'>简介</h1>
<p>探意机器人API文档1</p>

<p>这是探意机器人API文档，具体详情查看每个API接口调用说明；</p>

<p>如果有问题，欢迎联系我们客服，技术支持</p>

<p>公司官网地址 ：http://www.yiwise.com/</p>
<h1 id='18d1449c7d'>开发引导</h1><h2 id='c2587a41e7'>调用说明</h2>
<p>第一种方式：主动调用 这种调用方式是客户主动调用接口获取数据或实现功能；</p>

<p>主动调用需在请求头传入APP_KEY、APP_SECRET、VERSION（当前版本的VERSION=v1）、TENANT_SIGN（公司签名，后期提供修改）和验签字段signature用于权限校验；</p>

<p>注意：请在开发对接程序前联系探意技术支持进行注册，如果你还未签约，请先签约开通账户。</p>

<p>第二种方式：方法回调 这种调用方式是当达到预设条件如：任务完成或通话结束时，由探意主动向指定地址发送信息；</p>

<p>注意：请在开发前自主配置好回调地址。</p>

<p>探意机器人API是使用HTTP并遵循REST原则设计的Web服务接口；</p>

<p>您可以使用几乎任何客户端和任何编程语言与REST API进行交互。</p>

<p>通过发送简单的HTTP请求就可以轻松接入使用。</p>

<p>调用方式分为两种：主动调用和方法回调。</p>
<h2 id='352e86fb3a'>权限认证</h2>
<blockquote>
<p>认证密钥样例</p>
</blockquote>
<pre class="highlight java tab-java"><code>  <span class="n">APP_KEY</span> <span class="o">=</span> <span class="s">"WtSMaXXXXXXXXtvy"</span><span class="o">;</span>
  <span class="n">APP_SECRET</span> <span class="o">=</span> <span class="s">"aXSFnnZbHXXXXXXXXXXXXXXXMguz1Q"</span><span class="o">;</span>    
  <span class="n">TENANT_SIGN</span> <span class="o">=</span> <span class="s">"yiwisexxxx"</span><span class="o">;</span>    
</code></pre>
<p>API认证采用SHA256加密算法进行加密，使用时间戳、APP_KEY、APP_SECRET、VERSION（当前版本的VERSION=v1）和 TENANT_SIGN（公司签名，后期提供修改）共同生成一个验签字段signature。</p>

<p>目前已有完成JAVA版的样例，具体实现请下载SDK查阅。</p>

<blockquote>
<p>请在API样例<code>openapidemo</code>中替换为自己的APP_KEY、APP_SECRET和 TENANT_SIGN.</p>
</blockquote>

<p>探意为确保您的账户和信息安全，请在开发对接程序前联系探意技术支持注册接口调用专属密钥。</p>

<aside class="notice">
您必须替换对接密钥 <code>APP_KEY 、 APP_SECRET 和 TENANT_SIGN </code>在您的对接程序中 
</aside>
<h2 id='bbf1456045'>统一请求格式</h2>
<p>URL格式：</p>

<p><code>/{version}/{resource}/{function}</code></p>

<p>说明： </p>

<p>{version}api版本号</p>

<p>{resource}为资源名，通常对应一类API</p>

<p>{function}为该资源提供的操作方法</p>

<p>请求响应的结果为json格式</p>

<blockquote>
<p>比如查询公司列表的url为：</p>
</blockquote>
<pre class="highlight plaintext"><code>&lt;code&gt;http://apiOpen/v1/tenant/getTenant &lt;/code&gt; 表示调用公司信息的get方法，并且返回json格式的字符串。

我们目前已经提供的接口，请参考API。 

</code></pre>
<p>HTTP头信息:</p>

<p><code>Accept:application/json;charset=utf-8</code></p>

<p>说明：</p>

<p>请求方式(Method)：统一用GET/POST方式，编码：UTF-8</p>

<blockquote>
</blockquote>
<h2 id='java-sdk-demo'>JAVA SDK DEMO 下载</h2>
<p>本页面提供Java的SDK下载。</p>

<p>SDK包内有部分使用说明，各接口的详细使用说明请浏览各API详情页。</p>

<p>如探意未提供您使用语言的SDK，您可以根据API文档开发接口</p>

<table><thead>
<tr>
<th>语言</th>
<th>GitHub地址</th>
</tr>
</thead><tbody>
<tr>
<td>JAVA</td>
<td><a href="https://github.com/yiwise/openapidemo.git">GitHub地址</a></td>
</tr>
</tbody></table>
<h2 id='e352b2a3cc'>最佳实践流程图:</h2>
<p><img src="images/OMS3.png" alt="Oms3" /></p>
<h2 id='966dc24d9e'>常见问题解答</h2>
<ol>
<li>Q: 定时任务和手动任务的异同</li>
</ol>

<p>A: 异步，定时任务在设定好启动时间和结束时间时会在到达指定时间时自动启动
    手动任务则需要导入客户之后手动启动任务；</p>

<p>同步，任务到达12-14点或指定暂停时间会自动暂停，并且会占用AI并发量。</p>

<ol>
<li>Q: isv账号能否操作多个crm账号下的任务</li>
</ol>

<p>A: 一个APP_KEY和APP_SECRET目前只能操作一个CRM的账户，CRM暂无子公司这个概念</p>
<h2 id='362ce418e7'>流程说明</h2><h3 id='c632d650f0'>第一部分:</h3>
<p>主要是获取公司相关信息，为创建任务提供数据。</p>

<p>这里一共三个接口分别查询到：</p>

<p>1.公司Id</p>

<p>2.公司的主叫电话号码列表</p>

<p>3.机器人话术相关参数：机器人话术id</p>
<h3 id='4727f1c607'>第二部分:</h3>
<p>核心业务部分，主要是任务的创建，启动，停止等操作。</p>

<p>1.创建任务
    创建任务过程中需要传入的几个重要的值：机器人话术id,这个值不能传入有误，传入出错会导致任务拨打有误
2.任务启动
    只有手动任务才需要手动去启动任务，自动任务是自动启动的。 
<aside class="notice">
任务恢复：任务在未完全暂停（子任务还没有全部运行完成），是不能恢复的
</aside></p>

<p>3.任务暂停
    任务在运行中，可调用暂停任务让任务进入暂停状态（可再次运行），并且是在所有当前正在跑的子任务都运行完成之后才会暂停
4.终止任务
    任务终止，终止之后不可以恢复</p>
<h3 id='3acb0ac2ed'>第三部分:</h3>
<p>任务运行结束，调用任务回调接口，将本次任务信息发送到指定回调地址。</p>
<h3 id='46482cd3b1'>第四部分:</h3>
<p>主要是查询任务相关信息。</p>
<h2 id='6af18eb20f'>枚举类型说明</h2><h3 id='4db9754bc6'>电话卡类型枚举</h3>
<table><thead>
<tr>
<th>type</th>
<th>desc</th>
</tr>
</thead><tbody>
<tr>
<td>MOBILE</td>
<td>手机</td>
</tr>
<tr>
<td>LANDLINE</td>
<td>阿里云固话</td>
</tr>
<tr>
<td>UNFIXED_CALL</td>
<td>无主叫固话</td>
</tr>
</tbody></table>
<h3 id='ebc5aba134'>任务类型枚举</h3>
<table><thead>
<tr>
<th>type</th>
<th>desc</th>
</tr>
</thead><tbody>
<tr>
<td>AUTO</td>
<td>自动任务</td>
</tr>
<tr>
<td>MANUAL</td>
<td>手动任务</td>
</tr>
</tbody></table>
<h3 id='2ce89782c6'>任务状态枚举</h3>
<table><thead>
<tr>
<th>type</th>
<th>desc</th>
</tr>
</thead><tbody>
<tr>
<td>NOT_STARTED</td>
<td>未开始</td>
</tr>
<tr>
<td>IN_PROCESS</td>
<td>进行中</td>
</tr>
<tr>
<td>COMPLETED</td>
<td>已完成</td>
</tr>
<tr>
<td>RUNNABLE</td>
<td>可运行</td>
</tr>
<tr>
<td>USER_PAUSE</td>
<td>用户暂停</td>
</tr>
<tr>
<td>SYSTEM_SUSPENDED</td>
<td>系统暂停</td>
</tr>
<tr>
<td>TERMINATE</td>
<td>已终止</td>
</tr>
<tr>
<td>IN_QUEUE</td>
<td>排队中</td>
</tr>
</tbody></table>
<h3 id='0a0285fd88'>通话结果枚举</h3>
<table><thead>
<tr>
<th>type</th>
<th>desc</th>
</tr>
</thead><tbody>
<tr>
<td>ANSWERED</td>
<td>已接听</td>
</tr>
<tr>
<td>NO_ANSWER</td>
<td>呼叫号码未接听</td>
</tr>
<tr>
<td>BUSY</td>
<td>呼叫号码占线</td>
</tr>
<tr>
<td>POWER_OFF</td>
<td>呼叫号码关机</td>
</tr>
<tr>
<td>OUT_OF_SERVICE</td>
<td>呼叫号码停机</td>
</tr>
<tr>
<td>REFUSED</td>
<td>呼叫号码拒接</td>
</tr>
<tr>
<td>VACANT_NUMBER</td>
<td>呼叫的号码是空号</td>
</tr>
<tr>
<td>CAN_NOT_CONNECT</td>
<td>呼叫的号码无法接通</td>
</tr>
<tr>
<td>FROM_PHONE_ERROR</td>
<td>主叫号码不可用</td>
</tr>
<tr>
<td>SYSTEM_ERROR</td>
<td>外呼失败</td>
</tr>
</tbody></table>
<h3 id='aa434bf648'>意向等级枚举</h3>
<table><thead>
<tr>
<th>type</th>
<th>desc</th>
</tr>
</thead><tbody>
<tr>
<td>A</td>
<td>较强</td>
</tr>
<tr>
<td>B</td>
<td>一般</td>
</tr>
<tr>
<td>C</td>
<td>无法判断</td>
</tr>
<tr>
<td>D</td>
<td>很少</td>
</tr>
<tr>
<td>E</td>
<td>需要再次跟进</td>
</tr>
<tr>
<td>F</td>
<td>无需再次跟进</td>
</tr>
</tbody></table>
<h2 id='42d5497355'>错误码信息</h2>
<table><thead>
<tr>
<th>错误码</th>
<th>错误信息</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>执行成功</td>
</tr>
<tr>
<td>401</td>
<td>校验数据错误</td>
</tr>
<tr>
<td>404</td>
<td>资源未找到</td>
</tr>
<tr>
<td>403</td>
<td>权限不足</td>
</tr>
<tr>
<td>412</td>
<td>参数错误</td>
</tr>
<tr>
<td>500</td>
<td>未知错误</td>
</tr>
</tbody></table>
<h1 id='f628cebc7d'>最近更新日志</h1><h2 id='2018-10-10'>2018年10月10日第一版本</h2>
<p>一、公司信息接口</p>

<ol>
<li><p>获取公司信息接口</p></li>
<li><p>获取公司的主叫电话列表接口</p></li>
<li><p>获取公司的机器人话术列表接口</p></li>
</ol>

<p>二、任务操作接口</p>

<ol>
<li><p>创建任务接口</p></li>
<li><p>启动任务接口</p></li>
<li><p>暂停任务接口</p></li>
<li><p>终止任务接口</p></li>
<li><p>删除任务</p></li>
<li><p>向任务中导入客户接口</p></li>
<li><p>修改任务AI坐席数（任务并发数）</p></li>
</ol>

<p>三、任务信息接口</p>

<ol>
<li><p>获取任务列表接口</p></li>
<li><p>获取任务详情接口</p></li>
<li><p>获取已经完成任务电话号码接口</p></li>
<li><p>获取一个通话的详情接口</p></li>
</ol>

<p>四、信息回调接口</p>
<h1 id='isv'>isv对象操作</h1><h2 id='isv-2'>修改ISV对象的公司签名和回调地址</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以修改ISV对象的公司签名和回调地址</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>
{
    "tenantSign": "yiwise",
    "callbackUrl": "http:999999999"
}

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code> {
    "code":200,
    "data":null,
    "requestId":"FVKXTCDG",
    "resultMsg":"修改成功",
    "errorStackTrace":null
 }
</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/isv/updateIsvInfo</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>tenantSign</td>
<td>String</td>
<td>是</td>
<td>客户签名</td>
<td>yiwise</td>
</tr>
<tr>
<td>callbackUrl</td>
<td>String</td>
<td>否</td>
<td>回调URL</td>
<td>http://www.baidu.com</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h1 id='2612df31ea'>公司信息接口</h1><h2 id='2a87ad0cc9'>获取公司列表接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以获取用户所有的公司信息</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": {
        "tenantId": 1,
        "tenantName": "杭州一知智能科技有限公司"
    },
    "requestId": "VCWAHVEJ",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/tenant/getTenant</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>tenantName</td>
<td>String</td>
<td>公司名称</td>
</tr>
<tr>
<td>tenantId</td>
<td>Long</td>
<td>公司Id</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='4ab023febf'>获取公司的主叫电话列表接口</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过接口可以获取指定公司的所有主叫电话的列表</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "code": 200,
  "data": [{
    "tenantPhoneNumberId": 276,
    "phoneNumber": "0000000000",
    "phoneName": "0000000000",
    "phoneType": "MOBILE"
  }],
  "requestId": "ILNBEQJF",
  "resultMsg": "获取成功",
  "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/phone/getPhoneList</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>tenantPhoneNumberId</td>
<td>Long</td>
<td>电话id</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>String</td>
<td>电话号码</td>
</tr>
<tr>
<td>phoneName</td>
<td>String</td>
<td>电话号码名称</td>
</tr>
<tr>
<td>phoneType</td>
<td>String</td>
<td>(MOBILE, &quot;手机&quot;),(LANDLINE, &quot;固话&quot;),(UNFIXED_CALL, &quot;无主叫固话&quot;)</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='ed9cb485c4'>获取公司的机器人话术列表接口</h2><h3 id='7d73d51a26-3'>功能说明：</h3>
<p>通过接口可以获取指定公司的所有配置完成的机器人话术 </p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": [{
        "dialogFlowId": 96,
        "name": "金融理财--行业体验demo"
    }, {
        "dialogFlowId": 136,
        "name": "测试变量"
    }],
    "requestId": "NSLARYGU",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-3'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/dialogFlow/getDialogFlowList</p>
<h3 id='261d12e31d-3'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-3'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7-3'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Integer</td>
<td>机器人话术id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>机器人话术名称</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h1 id='c9bfaaef9d'>人工坐席接口</h1><h2 id='6a9cfa19c4'>获取人工坐席列表接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以获取用户所有的有效坐席组列表信息</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": {
        "number": 1,
        "pageSize": 20,
        "totalElements": 1,
        "pages": 1,
        "content": [
            {
                "createUserId": null,
                "updateUserId": null,
                "createTime": "2019-01-11 17:09:04",
                "updateTime": "2019-01-11 17:09:04",
                "csStaffGroupId": 1,
                "groupName": "CS坐席组1",
                "dialogFlowId": 1,
                "groupCapacity": 10,
                "tenantId": 756,
                "groupType": "CS",
                "enabledStatus": "ENABLE",
                "dialogFlowName": "内置"
                "csStaffList": null
            }
        ]
    },
    "requestId": "EJKEIHZQ",
    "resultMsg": "查询成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/csRobot/staffGroupList</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>pageNum</td>
<td>Integer</td>
<td>是</td>
<td>页码</td>
<td>0</td>
</tr>
<tr>
<td>pageSize</td>
<td>Integer</td>
<td>是</td>
<td>每页记录数</td>
<td>0</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>number</td>
<td>Integer</td>
<td>第几页</td>
</tr>
<tr>
<td>pageSize</td>
<td>Integer</td>
<td>每页页面条数</td>
</tr>
<tr>
<td>totalElements</td>
<td>Integer</td>
<td>数据总条数</td>
</tr>
<tr>
<td>pages</td>
<td>Integer</td>
<td>页面总数</td>
</tr>
<tr>
<td>csStaffGroupId</td>
<td>Long</td>
<td>坐席组Id</td>
</tr>
<tr>
<td>groupName</td>
<td>String</td>
<td>坐席组名称</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h1 id='bda2edd407'>话术接口</h1><h2 id='a6c51200d8'>获取话术列表接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以获取用户所有的话术信息</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": [
        {
        "dialogFlowId": 1,
        "name": "话术标题"
        }
    ],
    "requestId": "VCWAHVEJ",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/dialogFlow/getDialogFlowList</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Long</td>
<td>话术Id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>话术名称</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='3638079c5a'>获取话术中存在人工介入和转人工等标识</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过接口可以获取指定话术的标识</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code> {
     "code": 200,
     "data": {
         "dialogFlowId": 358,
         "placeholderExist": true,
         "jumpToHumanServiceExist": false,
         "humanInterventionExist": false
     },
     "requestId": "QKFCMKOY",
     "resultMsg": "获取成功",
     "errorStackTrace": null
 }

</code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/dialogFlow/getDialogFlowCallJobRelatedInfo</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>dialogFlowId</td>
<td>Long</td>
<td>是</td>
<td>话术ID</td>
<td>0</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>placeholderExist</td>
<td>boolean</td>
<td>是否有变量名</td>
</tr>
<tr>
<td>jumpToHumanServiceExist</td>
<td>boolean</td>
<td>是否转人工标识</td>
</tr>
<tr>
<td>humanInterventionExist</td>
<td>boolean</td>
<td>是否有人工介入标识</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h1 id='727a7b8d8f'>意向标签组接口</h1><h2 id='a7bde703a4'>获取已使用的意向标签组列表接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以获取已使用的所有意向标签组</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": [
      {
        "intentLevelTagId": 0,
        "name": "内置意向分类标签"
      }, {
        "intentLevelTagId": 1,
      "name": "自定义标签分组"
      }
    ],
    "requestId": "VCWAHVEJ",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/intentLevelTag/getUsedIntentLevelTagList</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<p>无</p>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>intentLevelTagId</td>
<td>Long</td>
<td>意向标签分组Id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>意向标签分组名称</td>
</tr>
</tbody></table>
<h2 id='fcf2f38ba4'>获取意向标签内容</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过接口可以获取指定意向标签分组的内容</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "code": 200,
  "data": {
    "intentLevelTagId": 0,
    "name": "内置意向分类标签",
    "details": [
      {
        "code": 0,
        "name": "A类"
      },
      {
       "code": 1,
        "name": "B类"
      },
      {
        "code": 2,
        "name": "C类"
      },
      {
        "code": 3,
        "name": "D类"
      },
      {
        "code": 4,
        "name": "E类"
      },
      {
        "code": 5,
        "name": "F类"
      }
    ]
  },
  "requestId": "ILNBEQJF",
  "resultMsg": "获取成功",
  "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/intentLevelTag/getIntentLevelTag</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>intentLevelTagId</td>
<td>Long</td>
<td>是</td>
<td>标签分组Id</td>
<td>0</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>intentLevelTagId</td>
<td>Long</td>
<td>意向标签分组Id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>意向标签分组名称</td>
</tr>
<tr>
<td>code</td>
<td>Integer</td>
<td>意向等级</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>意向名称</td>
</tr>
</tbody></table>
<h1 id='9d439be6a3'>任务操作接口</h1><h2 id='7073b68833'>创建任务接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以创建新的任务 </p>
<h3 id='2e118f3054'>更新说明：</h3>
<p>创建任务,支持使用多个无主叫固话,只需设置总并发数,由系统自动分配每个线路的并发。</p>

<blockquote>
<p>入参JSON实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "concurrencyQuota", 2,
    "jobPhoneNumberIdList": [
        348,369
    ],
    "transferPhoneNumber": [
      "1523654789",
      "1758426896"
    ],
    "robotCallJob": {
        "alertUsers": [],
        "dailyEndTime": "21:00",
        "dailyStartTime": "09:00",
        "description": "gthjoitjdjfdk",
        "dialogFlowId": 2,
        "earlyWarningAlertUsers": [],
        "inactiveTimeList": [{"startTime":"12:00", "endTime":"13:00"}],
        "mode": "AUTO",
        "name": "测试名称3333",
        "phoneType": "LANDLINE",
        "robotCount": 10,
        "smsAlertLevel": ["A"],
        "smsTemplateId": 1,
        "startTime": "2017-11-21 04:32:00",
        "tenantId": 1,
        "wechatAlertLevel": [],
        "wechatSendMethod": "SENDTOALL",
        "wechatAlertLevelCode": [],
        "smsAlertLevelCode": [],
        "wechatConditionAlertLevelCode": []
    }
}
</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": {robotCallJobId:139},
    "requestId": "RKXNIQAF",
    "resultMsg": "修改成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/create</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>concurrencyQuota</td>
<td>Integer</td>
<td>是</td>
<td>并发数（线路类型为手机号的时候可不传）</td>
<td>10</td>
</tr>
<tr>
<td>jobPhoneNumberIdList</td>
<td>List</td>
<td>是</td>
<td>任务主叫号码列表 tenant_phone_number_id,当类型是手机号的时候他的size代表机器人的个数，当类型非手机号的时候他的size只能是1</td>
<td>[1,2,3]</td>
</tr>
<tr>
<td>transferPhoneNumber</td>
<td>List</td>
<td>选择转人工话术时必填</td>
<td>转人工号码,触发转人工时轮训号码列表</td>
<td>[&quot;1523654789&quot;,&quot;1758426896&quot;]</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>是</td>
<td>任务名称</td>
<td>测试API任务</td>
</tr>
<tr>
<td>mode</td>
<td>String</td>
<td>是</td>
<td>任务类型 (AUTO, &quot;自动任务&quot;),(MANUAL, &quot;手动任务&quot;);</td>
<td>AUTO</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>自动任务：是/手动任务：否</td>
<td>任务开始时间</td>
<td>&quot;2017-11-21&quot;</td>
</tr>
<tr>
<td>dailyStartTime</td>
<td>String</td>
<td>是</td>
<td>可拨打开始时间，不可以早于9点</td>
<td>09:00</td>
</tr>
<tr>
<td>dailyEndTime</td>
<td>String</td>
<td>是</td>
<td>可拨打结束时间，不可以晚于20点</td>
<td>20:00</td>
</tr>
<tr>
<td>inactiveTimeList</td>
<td>List</td>
<td>否</td>
<td>不可拨打时间段列表,最大三个不可拨打时段</td>
<td>[{&quot;startTime&quot;:&quot;12:00&quot;, &quot;endTime&quot;:&quot;13:00&quot;}]</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>String</td>
<td>是</td>
<td>话术id</td>
<td>139</td>
</tr>
<tr>
<td>csStaffGroupId</td>
<td>Long</td>
<td>是</td>
<td>坐席组id，通过话术API中获取人工介入标识。如果存在人工介入标识，需要传入坐席组Id</td>
<td>139</td>
</tr>
<tr>
<td>alertUsers</td>
<td>String</td>
<td>否</td>
<td>提醒的用户的id列表</td>
<td>[1,2]</td>
</tr>
<tr>
<td>earlyWarningAlertUsers</td>
<td>String</td>
<td>否</td>
<td>行业预警消息推送人</td>
<td>[1,2]</td>
</tr>
<tr>
<td>phoneType</td>
<td>String</td>
<td>是</td>
<td>号码类型 (MOBILE, &quot;手机号码&quot;),(LANDLINE, &quot;固话&quot;),(UNFIXED_CALL, &quot;无主叫&quot;)</td>
<td>UNFIXED_CALL</td>
</tr>
<tr>
<td>smsAlertLevel</td>
<td>String</td>
<td>否</td>
<td>短信推送提醒意向等级</td>
<td>[&quot;A&quot;,&quot;B&quot;]</td>
</tr>
<tr>
<td>smsTemplateId</td>
<td>Long</td>
<td>否</td>
<td>短信模板id</td>
<td></td>
</tr>
<tr>
<td>wechatAlertLevel</td>
<td>String</td>
<td>否</td>
<td>微信推送提醒意向等级</td>
<td>[&quot;A&quot;,&quot;B&quot;]</td>
</tr>
<tr>
<td>wechatSendMethod</td>
<td>String</td>
<td>否</td>
<td>微信推送方式（SENDTOALL，全推送），（SENDTOONE，单推送），（SENDTONONE 不推送）</td>
<td>SENDTOALL</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>否</td>
<td>备注</td>
<td>测试</td>
</tr>
<tr>
<td>wechatAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>微信推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>smsAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>短信推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
<tr>
<td>wechatConditionAlertLevelCode</td>
<td>Integer</td>
<td>否</td>
<td>微信条件推送提醒意向等级编码</td>
<td>[0, 1]</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>刚刚创建的任务ID</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='6334004180'>启动任务接口</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过此接口可以启动指定的任务</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": null,
    "requestId": "RKXNIQAF",
    "resultMsg": "修改成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/start</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='93a2bc390a'>暂停任务接口</h2><h3 id='7d73d51a26-3'>功能说明：</h3>
<p>通过此接口可以暂停指定的任务</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": null,
    "requestId": "RKXNIQAF",
    "resultMsg": "修改成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-3'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/pause</p>
<h3 id='261d12e31d-3'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-3'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Integer</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-3'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='15db7fdc1e'>停止任务接口</h2><h3 id='7d73d51a26-4'>功能说明：</h3>
<p>通过此接口可以停止  指定的任务</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code> {
    "code": 200,
    "data": null,
    "requestId": "RKXNIQAF",
    "resultMsg": "修改成功",
    "errorStackTrace": null
 }

</code></pre><h3 id='c7811523ac-4'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/stop</p>
<h3 id='261d12e31d-4'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-4'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Integer</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-4'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='0705816c68'>删除任务</h2><h3 id='7d73d51a26-5'>功能说明：</h3>
<p>通过调用此接口可以删除任务信息</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "robotCallJobId": "1"
}
</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": null,
    "requestId": "GDFVVSAE",
    "resultMsg": "删除成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-5'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/delete</p>
<h3 id='261d12e31d-5'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-5'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>删除任务</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-5'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='723af6367b'>向任务中导入客户接口</h2><h3 id='7d73d51a26-6'>功能说明：</h3>
<p>通过此接口可以向指定的任务导入客户信息，用于拨打电话。（单次导入客户数量不能大于100）</p>

<blockquote>
<p>入参JSON实例:</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "robotCallJobId": 28,
    "customerPersons": [{
        "name": "test",
        "phoneNumber": "11111111111",
        "properties": {
            "欠款金额": "10.13",
            "最后还款日期": "2018年10月3日"
        }
    }]
}

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code> {
    "code": 200,
    "data": null,
    "requestId": "RKXNIQAF",
    "resultMsg": "修改成功",
    "errorStackTrace": null
 }

</code></pre><h3 id='c7811523ac-6'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/importCustomer</p>
<h3 id='261d12e31d-6'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-6'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>是</td>
<td>客户名称</td>
<td>张三</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>String</td>
<td>是</td>
<td>客户电话</td>
<td>13998987676</td>
</tr>
<tr>
<td>properties</td>
<td>Map<String,String></td>
<td>否</td>
<td>话术中自定义的语句内容</td>
<td>请看json入参</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-6'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='ai'>修改任务并发数（AI坐席数量）</h2><h3 id='7d73d51a26-7'>功能说明：</h3>
<p>通过接口可以更改AI坐席数量，功能同crm端编辑话术时修改外呼号码的AI坐席数</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "robotCallJobId": 28,
    "robotCount": 2
}

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": null,
    "requestId": "RKXNIQAF",
    "resultMsg": "导入成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-7'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/updateAiCount</p>
<h3 id='261d12e31d-7'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757-7'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>1</td>
</tr>
<tr>
<td>robotCount</td>
<td>Integer</td>
<td>是</td>
<td>任务数量</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h1 id='b8663b3278'>任务信息查询接口</h1><h2 id='63369839c4'>获取任务列表接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以获取指定公司的任务列表</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
  "code": 200,
  "data": {
    "number": 1,
    "pageSize": 20,
    "totalElements": 1,
    "pages": 1,
    "content": [{
      "robotCallJobId": 1,
      "name": "dialog测试",
      "status": "TERMINATE",
      "completedTask": 2157,
      "taskCallTotal": 166,
      "createTime": "2018-09-26 18:07",
      "createdByUserName": null,
      "organizationName": null
    }]
  },
  "requestId": "OTMAGZFW",
  "resultMsg": "创建成功",
  "errorStackTrace": null
}
</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/getJobs</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>否</td>
<td>任务名称</td>
<td>测试</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>否</td>
<td>任务状态,(NOT_STARTED, &quot;未开始&quot;),(IN_PROCESS, &quot;进行中&quot;),(COMPLETED, &quot;已完成&quot;),(RUNNABLE, &quot;可运行&quot;),(USER_PAUSE, &quot;用户暂停&quot;),(SYSTEM_SUSPENDED, &quot;系统暂停&quot;),(TERMINATE, &quot;已终止&quot;),(IN_QUEUE, &quot;排队中&quot;);</td>
<td>1</td>
</tr>
<tr>
<td>pageNum</td>
<td>Integer</td>
<td>否</td>
<td>第几页,默认1</td>
<td>1</td>
</tr>
<tr>
<td>pageSize</td>
<td>Integer</td>
<td>否</td>
<td>页面大小,选填,默认20,最大值100</td>
<td>10</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>number</td>
<td>Integer</td>
<td>第几页</td>
</tr>
<tr>
<td>pageSize</td>
<td>Integer</td>
<td>每页页面条数</td>
</tr>
<tr>
<td>totalElements</td>
<td>Integer</td>
<td>数据总条数</td>
</tr>
<tr>
<td>pages</td>
<td>Integer</td>
<td>页面总数</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>任务名称</td>
</tr>
<tr>
<td>completedTask</td>
<td>Integer</td>
<td>完成的任务</td>
</tr>
<tr>
<td>taskCallTotal</td>
<td>Integer</td>
<td>任务总数</td>
</tr>
<tr>
<td>createTime</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>createdByUserName</td>
<td>String</td>
<td>创建人</td>
</tr>
<tr>
<td>organizationName</td>
<td>String</td>
<td>组织</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>任务状态, NOT_STARTED(0, &quot;未开始&quot;),IN_PROCESS(1, &quot;进行中&quot;),COMPLETED(2, &quot;已完成&quot;),RUNNABLE(3, &quot;可运行&quot;),USER_PAUSE(4, &quot;用户暂停&quot;),SYSTEM_SUSPENDED(5, &quot;系统暂停&quot;),TERMINATE(6, &quot;已终止&quot;),IN_QUEUE(7, &quot;排队中&quot;);</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='4b97fb63c0'>获取任务详情接口</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过此接口可以获取指定任务的详细信息</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": {
        "robotCallJob": {
            "robotCallJobId": 1,
            "tenantId": 1,
            "dialogFlowId": 1,
          "dialogFlowName":"金融行业体验demo-优化版",
            "name": "dialog测试",
            "mode": "MANUAL",
            "robotCount": 12,
            "smsTemplateId": null,
            "phoneType": "LANDLINE",
            "dailyStartTime": "15:08:31",
            "dailyEndTime": "15:08:36",
            "inactiveTimeList": [{"startTime":"12:00", "endTime":"13:00"}],
            "description": null,
            "wechatAlertLevel": [],
            "wechatAlertLevelCode":[],
            "smsAlertLevel": [],
            "smsAlertLevelCode":[],
            "wechatConditionAlertLevel":[],
            "wechatConditionAlertLevelCode":[],
            "alertUsers": [],
            "wechatSendMethod": "SENDTOALL",
            "status": "TERMINATE",
            "startTime": null,
            "nextStartTime": "00:00:00",
            "createTime": "2018-10-09 15:08:54",
            "updateTime": "2018-10-09 15:11:20",
            "earlyWarningAlertUsers": []
        },
    "jobPhoneNumberList": [{
        "tenantPhoneNumberId": 675,
        "phoneNumber": "13576084683",
        "phoneName": "",
        "enabledStatus": 1,
        "phoneType": "LANDLINE",
        "concurrencyQuota": 5
      }],
    "transferPhoneNumber": [
        "1523654789",
        "1758426896"
    ],
        "completedTask": 3612,
        "taskCallTotal": 166
    },
    "requestId": "VJDMUZIC",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/getJobDetail</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>21</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Long</td>
<td>话术id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>任务名称</td>
</tr>
<tr>
<td>mode</td>
<td>String</td>
<td>任务类型 (AUTO, &quot;自动任务&quot;),(MANUAL, &quot;手动任务&quot;)</td>
</tr>
<tr>
<td>phoneType</td>
<td>String</td>
<td>电话类型 (MOBILE, &quot;手机&quot;),(LANDLINE, &quot;固话&quot;),(UNFIXED_CALL, &quot;无主叫固话&quot;)</td>
</tr>
<tr>
<td>robotCount</td>
<td>Integer</td>
<td>任务拨打的号码总数</td>
</tr>
<tr>
<td>smsTemplateId</td>
<td>Long</td>
<td>短信模版id</td>
</tr>
<tr>
<td>dailyStartTime</td>
<td>String</td>
<td>可拨打开始时间</td>
</tr>
<tr>
<td>dailyEndTime</td>
<td>String</td>
<td>可拨打结束时间</td>
</tr>
<tr>
<td>inactiveTimeList</td>
<td>List</td>
<td>不可拨打时间段列表</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>任务注释</td>
</tr>
<tr>
<td>wechatAlertLevel</td>
<td>String</td>
<td>微信提示等级</td>
</tr>
<tr>
<td>wechatAlertLevelCode</td>
<td>Integer</td>
<td>微信提示等级code</td>
</tr>
<tr>
<td>smsAlertLevel</td>
<td>String</td>
<td>短信提示等级</td>
</tr>
<tr>
<td>smsAlertLevelCode</td>
<td>Integer</td>
<td>短信提示登记code</td>
</tr>
<tr>
<td>wechatConditionAlertLevel</td>
<td>String</td>
<td>微信条件提示等级</td>
</tr>
<tr>
<td>wechatConditionAlertLevelCode</td>
<td>Integer</td>
<td>微信条件提示等级Code</td>
</tr>
<tr>
<td>alertUsers</td>
<td>String</td>
<td>提示人员</td>
</tr>
<tr>
<td>earlyWarningAlertUsers</td>
<td>String</td>
<td>预警提示人员</td>
</tr>
<tr>
<td>createTime</td>
<td>String</td>
<td>任务创建时间</td>
</tr>
<tr>
<td>updateTime</td>
<td>String</td>
<td>任务修改时间</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>任务开始时间</td>
</tr>
<tr>
<td>nextStartTime</td>
<td>String</td>
<td>下一次任务开始时间</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>任务状态, NOT_STARTED(0, &quot;未开始&quot;),IN_PROCESS(1, &quot;进行中&quot;),COMPLETED(2, &quot;已完成&quot;),RUNNABLE(3, &quot;可运行&quot;),USER_PAUSE(4, &quot;用户暂停&quot;),SYSTEM_SUSPENDED(5, &quot;系统暂停&quot;),TERMINATE(6, &quot;已终止&quot;),IN_QUEUE(7, &quot;排队中&quot;)</td>
</tr>
<tr>
<td>jobPhoneNumberList</td>
<td>List</td>
<td>任务拨打的电话列表</td>
</tr>
<tr>
<td>transferPhoneNumber</td>
<td>List</td>
<td>转人工号码</td>
</tr>
<tr>
<td>dialogFlowName</td>
<td>String</td>
<td>话术名称</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='7ed6838292'>获取任务统计接口</h2><h3 id='7d73d51a26-3'>功能说明：</h3>
<p>通过此接口可以获取指定任务的统计详细信息</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": {
            "taskProgress": 2175.9,
            "answeredRate": 9.47,
            "intentLevel": {
                "A": 568,
                "B": 555,
                "C": 606,
                "D": 598,
                "E": 560,
                "F": 569
            },
            "taskCallTotal": 3612,
            "answeredTask": 342,
            "chatDurationTotal": 89659,
            "completedTask": 0,
            "customerConcern": ["安全", "地理位置", "健身", "价格", "交通"],
            "dialResult": {
                "ANSWERED": 342,
                "NO_ANSWER": 348,
                "BUSY": 353,
                "POWER_OFF": 344,
                "OUT_OF_SERVICE": 341,
                "REFUSED": 366,
                "VACANT_NUMBER": 338,
                "CAN_NOT_CONNECT": 334,
                "FROM_PHONE_ERROR": 346,
                "SYSTEM_ERROR": 344
            },
            "chatRound": {
                "LESS_3": 9,
                "F3_T6": 1,
                "F6_T10": 4,
                "F10_MORE": 336
            },
            "chatDuration": {
                "LESS_10S": 14,
                "F10S_T1MIN": 28,
                "F1MIN_T2MIN": 35,
                "F2MIN_T3MIN": 43,
                "F3MIN_TMORE": 230
            },
            "callJobStatsBrokenLine": {
                "taskCallCompletedList": [{
                    "date": "2018-09-27",
                    "val": 1000
                }, {
                    "date": "2018-10-09",
                    "val": 1455
                }],
                "answeredTaskList": [{
                    "date": "2018-09-27",
                    "val": 119
                }, {
                    "date": "2018-10-09",
                    "val": 134
                }],
                "answeredTaskRateList": [{
                    "date": "2018-09-27",
                    "val": 11.90
                }, {
                    "date": "2018-10-09",
                    "val": 9.21
                }],
                "chatDurationTotalList": [{
                    "date": "2018-09-25",
                    "val": 22547
                }, {
                    "date": "2018-09-27",
                    "val": 31218
                }, {
                    "date": "2018-10-09",
                    "val": 35894
                }],
                "averageDurationList": [{
                    "date": "2018-09-27",
                    "val": 26233
                }, {
                    "date": "2018-10-09",
                    "val": 26786
                }],
                "intentLevelTagDetailList":[
          {
              "code":0,
              "intentLevelTagDetailId":825,
              "intentLevelTagId":121,
              "name":"较差"
          },
          {
              "code":1,
              "intentLevelTagDetailId":826,
              "intentLevelTagId":121,
              "name":"一般"
          },
          {
              "code":2,
              "intentLevelTagDetailId":827,
              "intentLevelTagId":121,
              "name":"好"
          },
          {
              "code":3,
              "intentLevelTagDetailId":828,
              "intentLevelTagId":121,
              "name":"很好"
          }]
            }
    },
    "requestId": "VJDMUZIC",
    "resultMsg": "获取成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-3'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/getJobStats</p>
<h3 id='261d12e31d-3'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-3'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>21</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-3'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>taskProgress</td>
<td>Double</td>
<td>任务进度</td>
</tr>
<tr>
<td>answeredRate</td>
<td>Double</td>
<td>接听率</td>
</tr>
<tr>
<td>completedTask</td>
<td>Integer</td>
<td>完成总数</td>
</tr>
<tr>
<td>taskCallTotal</td>
<td>Integer</td>
<td>任务总数</td>
</tr>
<tr>
<td>answeredTask</td>
<td>Integer</td>
<td>接听数量</td>
</tr>
<tr>
<td>chatDurationTotal</td>
<td>Integer</td>
<td>总接听时间</td>
</tr>
<tr>
<td>intentLevel</td>
<td>Map</td>
<td>意向等级</td>
</tr>
<tr>
<td>customerConcern</td>
<td>Map</td>
<td>关注点</td>
</tr>
<tr>
<td>dialResult</td>
<td>Map</td>
<td>通话结果</td>
</tr>
<tr>
<td>chatRound</td>
<td>Map</td>
<td>通话轮次</td>
</tr>
<tr>
<td>chatDuration</td>
<td>Map</td>
<td>通话时间</td>
</tr>
<tr>
<td>taskCallCompletedList</td>
<td>List</td>
<td>任务完成</td>
</tr>
<tr>
<td>answeredTaskList</td>
<td>List</td>
<td>通话结果</td>
</tr>
<tr>
<td>answeredTaskRateList</td>
<td>List</td>
<td>通话比例</td>
</tr>
<tr>
<td>chatDurationTotalList</td>
<td>List</td>
<td>通话轮次</td>
</tr>
<tr>
<td>averageDurationList</td>
<td>List</td>
<td>平均通话时长</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
<tr>
<td>intentLevelTagDetailList</td>
<td>List</td>
<td>意向分类详情列表</td>
</tr>
<tr>
<td>code</td>
<td>Integer</td>
<td>意向分类详情编码</td>
</tr>
<tr>
<td>intentLevelTagDetailId</td>
<td>Long</td>
<td>意向分类详情id</td>
</tr>
<tr>
<td>intentLevelTagId</td>
<td>Long</td>
<td>意向分类id</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>意向分类详情名称</td>
</tr>
</tbody></table>
<h2 id='ce576131d5'>获取任务中的变量（包括话术变量和短信变量）</h2><h3 id='7d73d51a26-4'>功能说明：</h3>
<p>通过接口可以获取该任务中的自定义变量，包括话术变量、意向短信变量、挂机短信变量等</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "code": 200,
    "data": [
        "欠款金额",
        "最后还款日期"
    ],
    "requestId": "RKXNIQAF",
    "resultMsg": "获取自定义属性成功",
    "errorStackTrace": null
}

</code></pre><h3 id='c7811523ac-4'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/job/getJobProperties</p>
<h3 id='261d12e31d-4'>请求方法：</h3><h3 id='261d12e31d-5'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-4'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务Id</td>
<td>21</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-4'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Integer</td>
<td>响应码</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h1 id='ede290fd8b'>任务完成电话信息查询接口</h1><h2 id='872ca4f7a9'>获取已经完成任务电话号码接口</h2><h3 id='7d73d51a26'>功能说明：</h3>
<p>通过此接口可以获取指定任务中所有已经完成的电话号码</p>

<blockquote>
<p>入参JSON实例</p>
</blockquote>
<pre class="highlight plaintext"><code>
{
    "customerGroupId": 1,
    "robotCallJobId": 1,
    "dialogFlowId": 2,
    "resultStatuses": ["ANSWERED"],
    "searchWords": "测试",
    "intentLevels": ["A"],
    "pageSize": 20,
    "pageNum": 1
}

</code></pre>
<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code> {
           "code": 200,
           "data": {
               "number": 1,
               "pageSize": 20,
               "totalElements": 4,
               "pages": 1,
               "content": [
                   {
                       "callRecordId": 47,
                       "tenantId": 1,
                      "robotCallJobId": 50,
                      "dialogFlowId": 4,
                      "robotCallTaskId": 4,
                      "customerPersonId": 5,
                      "calledPhoneNumber": "18817501728",
                      "phoneNumberId": 0,
                      "resultStatus": "ANSWERED",
                      "intentLevel": "A",
                      "intentLevelName": "很好",
                      "realIntentLevel": null,
                      "realIntentLevelName":"很好",
                      "intentLevelTagId": 0,
                      "customerConcern": [
                        "价格","位置"
                       ],
                       "fullAudioUrl": "https://ai-call-platform.oss-cn-hangzhou.aliyuncs.com/DialogueRecording/TenantId1/CallJobId50/OUZAXBCB__TaskId_4/ai_user.wav",
                       "customerAudioUrl": "https://ai-call-platform.oss-cn-hangzhou.aliyuncs.com/DialogueRecording/TenantId1/CallJobId50/OUZAXBCB__TaskId_4/user.wav",
                       "analysisBasis": "",
                       "startTime": "2018-08-04 11:57:33",
                       "chatDuration": 93,
                       "chatRound": 16,
                       "readStatus": "NOT_READ",
                       "callDetailList": [
                           {
                               "text":"喂，您好, （停顿2s），您好，想问下您位于江北纬七路隧道附近，均价17000的高端商业综合体，我可以给您介绍一下吗？",
                               "type":"ROBOT",
                               "callDetailId": 1
                           },
                           {
                               "text":"嗯",
                               "type":"PERSON",
                               "callDetailId": 2
                           }
                       ]
                   }
               ]
           },
           "requestId": "YXDXFDSC",
           "resultMsg": "获取成功",
           "errorStackTrace": null
       }
</code></pre><h3 id='c7811523ac'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/callRecord/getCallRecordInfoList</p>
<h3 id='261d12e31d'>请求方法：</h3>
<p>POST</p>
<h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>customerGroupId</td>
<td>Long</td>
<td>否</td>
<td>分组ID</td>
<td>100</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>是</td>
<td>任务id</td>
<td>1</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Long</td>
<td>否</td>
<td>话术id</td>
<td>1</td>
</tr>
<tr>
<td>resultStatuses</td>
<td>List</td>
<td>否</td>
<td>通话结果 (ANSWERED, &quot;已接听&quot;),(NO_ANSWER, &quot;未接&quot;),(BUSY, &quot;占线&quot;),(POWER_OFF, &quot;关机&quot;),(OUT_OF_SERVICE, &quot;被叫停机&quot;),(REFUSED, &quot;拒接&quot;),(VACANT_NUMBER, &quot;空号&quot;),(CAN_NOT_CONNECT, &quot;无法接通&quot;), (FROM_PHONE_ERROR, &quot;主叫号码不可用&quot;),(SYSTEM_ERROR, &quot;外呼失败&quot;)</td>
<td>[&quot;ANSWERED&quot;, &quot;REFUSED&quot;]</td>
</tr>
<tr>
<td>intentLevels</td>
<td>List</td>
<td>否</td>
<td>客户关注点 (A, &quot;A级(较强)&quot;),(B, &quot;B级(一般)&quot;),(C, &quot;C级(无法判断)&quot;),(D, &quot;D级(很少)&quot;),(E, &quot;E级别(需要再次跟进)&quot;),(F, &quot;F级别(无需再次跟进)&quot;)</td>
<td>[&quot;B&quot;, &quot;C&quot;]</td>
</tr>
<tr>
<td>searchWords</td>
<td>String</td>
<td>否</td>
<td>关键字搜索,支持电话号码、通话记录id、客户姓名</td>
<td>0</td>
</tr>
<tr>
<td>pageNum</td>
<td>Integer</td>
<td>否</td>
<td>第几页(默认为1)</td>
<td>1</td>
</tr>
<tr>
<td>pageSize</td>
<td>Integer</td>
<td>否</td>
<td>显示数量/页（默认为20），最大不能超过100</td>
<td>10</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>number</td>
<td>Integer</td>
<td>第几页</td>
</tr>
<tr>
<td>pageSize</td>
<td>Integer</td>
<td>每页页面条数</td>
</tr>
<tr>
<td>totalElements</td>
<td>Integer</td>
<td>数据总条数</td>
</tr>
<tr>
<td>pages</td>
<td>Integer</td>
<td>页面总数</td>
</tr>
<tr>
<td>callRecordId</td>
<td>Long</td>
<td>通话ID</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Long</td>
<td>话术id</td>
</tr>
<tr>
<td>robotCallTaskId</td>
<td>Long</td>
<td>子任务id（每个被叫电话为一个实例）</td>
</tr>
<tr>
<td>customerPersonId</td>
<td>Long</td>
<td>接收电话客户id</td>
</tr>
<tr>
<td>calledPhoneNumber</td>
<td>String</td>
<td>被叫客户电话号码</td>
</tr>
<tr>
<td>phoneNumberId</td>
<td>Long</td>
<td>电话线路id</td>
</tr>
<tr>
<td>resultStatus</td>
<td>String</td>
<td>通话结果 (ANSWERED, &quot;已接听&quot;),(NO_ANSWER, &quot;未接&quot;),(BUSY, &quot;占线&quot;),(POWER_OFF, &quot;关机&quot;),(OUT_OF_SERVICE, &quot;被叫停机&quot;),(REFUSED, &quot;拒接&quot;),(VACANT_NUMBER, &quot;空号&quot;),(CAN_NOT_CONNECT, &quot;无法接通&quot;), (FROM_PHONE_ERROR, &quot;主叫号码不可用&quot;),(SYSTEM_ERROR, &quot;外呼失败&quot;)</td>
</tr>
<tr>
<td>intentLevel</td>
<td>String</td>
<td>意向等级, (A, &quot;A级(较强)&quot;),(B, &quot;B级(一般)&quot;),(C, &quot;C级(无法判断)&quot;),(D, &quot;D级(很少)&quot;),(E, &quot;E级别(需要再次跟进)&quot;),(F, &quot;F级别(无需再次跟进)&quot;)</td>
</tr>
<tr>
<td>intentLevelName</td>
<td>String</td>
<td>意向标签名称</td>
</tr>
<tr>
<td>realIntentLevel</td>
<td>String</td>
<td>真实意向等级</td>
</tr>
<tr>
<td>realIntentLevelName</td>
<td>String</td>
<td>真实意向标签名称</td>
</tr>
<tr>
<td>intentLevelTagId</td>
<td>Long</td>
<td>意向分类标签id</td>
</tr>
<tr>
<td>customerConcern</td>
<td>List</td>
<td>客户关注点</td>
</tr>
<tr>
<td>fullAudioUrl</td>
<td>String</td>
<td>完整音频地址</td>
</tr>
<tr>
<td>customerAudioUrl</td>
<td>String</td>
<td>客户音频地址</td>
</tr>
<tr>
<td>analysisBasis</td>
<td>String</td>
<td>说明</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>开始拨打时间</td>
</tr>
<tr>
<td>chatDuration</td>
<td>Integer</td>
<td>通话时长</td>
</tr>
<tr>
<td>chatRound</td>
<td>Integer</td>
<td>通话轮次</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h2 id='6229f5f8cf'>获取一个通话的详情接口</h2><h3 id='7d73d51a26-2'>功能说明：</h3>
<p>通过此接口可以获取指定通话的详细信息</p>

<blockquote>
<p>JSON响应实例：</p>
</blockquote>
<pre class="highlight plaintext"><code> {
    "code": 200,
    "data": {
        "callRecordId": 1,
        "customerAudioUrl": null,
        "startTime": "2018-10-02T16:54:08",
        "endTime": "2018-10-02T16:54:08",
        "chatRound": 0,
        "chatDuration": 0,
        "customerPerson": {
            "customerPersonId": 2006007,
            "creationTime": "2018-10-01 16:39",
            "tenantId": 1,
            "customerGroupId": 181,
            "name": "空号",
            "phoneNumber": "18673125007",
            "wechatNumber": null,
            "source": "UPLOADED_BY_YOURSELF",
            "gender": "UNKNOWN",
            "properties": {"ss":"test"},
            "lastFollowTime": "2018-10-01 16:39:29",
            "lastChatDuration": 0,
            "lastStartTime": "2018-10-02 17:20:01",
            "lastIntentLevel": "E",
            "lastDialStatus": "CAN_NOT_CONNECT",
            "assignTime": "2018-10-01 16:39:29",
            "customerGroupName": "研发"
        },
        "resultStatus": "VACANT_NUMBER",
        "intentLevel": "F",
        "intentLevelName":"一般",
        "realIntentLevel": null,
        "realIntentLevelName":"一般",
        "intentLevelTagId":0,
        "customerConcern": ["价格", "位置"],
        "fullAudioUrl": "https://ai-call-platform-daily.oss-cn-hangzhou.aliyuncs.com/DialogueRecording/TenantId1/CallJobId17/YKUYXGLL_TaskId_1305098/early_media.wav",
        "analysisBasis": "空号",
        "callDetailList": [{
                "text": "喂，您好, （停顿2s），您好，想问下您位于江北纬七路隧道附近，均价17000的高端商业综合体，我可以给您介绍一下吗？",
                "type": "ROBOT",
                "callDetailId": 1
            },
            {
                "text": "嗯",
                "type": "PERSON",
                "callDetailId": 2
            }
        ],
        "robotCallJobId": 29
    },
    "requestId": "PSVILAEB",
    "resultMsg": "执行成功",
    "errorStackTrace": null
 }
</code></pre><h3 id='c7811523ac-2'>请求：</h3>
<p>URL：https://openapi.tanyibot.com/apiOpen/v1/callRecord/callDetail</p>
<h3 id='261d12e31d-2'>请求方法：</h3>
<p>GET</p>
<h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead><tbody>
<tr>
<td>callRecordId</td>
<td>Integer</td>
<td>是</td>
<td>任务实例id</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='d981aa6fd7-2'>响应：</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>响应码</td>
</tr>
<tr>
<td>callDetailList</td>
<td>List</td>
<td>对话内容</td>
</tr>
<tr>
<td>callRecordId</td>
<td>Long</td>
<td>记录id</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>fullAudioUrl</td>
<td>String</td>
<td>完整音频地址</td>
</tr>
<tr>
<td>customerAudioUrl</td>
<td>String</td>
<td>客户音频地址</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>开始拨打时间</td>
</tr>
<tr>
<td>endTime</td>
<td>String</td>
<td>结束拨打时间</td>
</tr>
<tr>
<td>chatDuration</td>
<td>Integer</td>
<td>通话时长</td>
</tr>
<tr>
<td>chatRound</td>
<td>Integer</td>
<td>通话轮次</td>
</tr>
<tr>
<td>resultStatus</td>
<td>String</td>
<td>通话结果 (ANSWERED, &quot;已接听&quot;),(NO_ANSWER, &quot;未接&quot;),(BUSY, &quot;占线&quot;),(POWER_OFF, &quot;关机&quot;),(OUT_OF_SERVICE, &quot;被叫停机&quot;),(REFUSED, &quot;拒接&quot;),(VACANT_NUMBER, &quot;空号&quot;),(CAN_NOT_CONNECT, &quot;无法接通&quot;), (FROM_PHONE_ERROR, &quot;主叫号码不可用&quot;),(SYSTEM_ERROR, &quot;外呼失败&quot;)</td>
</tr>
<tr>
<td>intentLevel</td>
<td>String</td>
<td>意向等级, (A, &quot;A级(较强)&quot;),(B, &quot;B级(一般)&quot;),(C, &quot;C级(无法判断)&quot;),(D, &quot;D级(很少)&quot;),(E, &quot;E级别(需要再次跟进)&quot;),(F, &quot;F级别(无需再次跟进)&quot;)</td>
</tr>
<tr>
<td>intentLevelName</td>
<td>String</td>
<td>意向标签名称</td>
</tr>
<tr>
<td>realIntentLevel</td>
<td>String</td>
<td>真实意向等级,</td>
</tr>
<tr>
<td>realIntentLevelName</td>
<td>String</td>
<td>真实意向标签名称</td>
</tr>
<tr>
<td>intentLevelTagId</td>
<td>Long</td>
<td>意向分类标签id</td>
</tr>
<tr>
<td>customerConcern</td>
<td>List</td>
<td>客户关注点,</td>
</tr>
<tr>
<td>analysisBasis</td>
<td>String</td>
<td>说明</td>
</tr>
<tr>
<td>attributes</td>
<td>List</td>
<td>参数</td>
</tr>
<tr>
<td>requestId</td>
<td>String</td>
<td>请求Id</td>
</tr>
<tr>
<td>resultMsg</td>
<td>String</td>
<td>响应说明</td>
</tr>
</tbody></table>
<h1 id='5091ae52ef'>任务信息回调接口</h1>
<p>回调指的是电话任务在运行过程中对单通电话通话结果、通话详情和任务完成事件等对isv用户的回调通知，所有回调事件都使用同一回调地址，请根据回调数据中的
&quot;dataType&quot;字段区分不同的回调，目前支持两种回调类型，通话记录结果回调和任务完成回调。</p>
<h2 id='f27f4cb938'>回调说明</h2>
<aside class="notice">
 请您在对接接口前，务必配置好回调地址,否则回调将无法成功。 
</aside>

<p>最多回调10次，每次回调时长按1分钟，2分钟，4分钟，8分钟间隔依次递增，总回调时长可达24小时。回调成功后，处理方应当返回字符串success在返回的body体中</p>
<h2 id='aff5c1bc4f'>请求方法说明</h2>
<p>所有回调方法采用POST请求发起</p>
<h2 id='datatype'>dataType支持类型说明</h2>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ROBOT_CALL_RECORD</td>
<td>String</td>
<td>单通通话记录</td>
</tr>
<tr>
<td>ROBOT_CALL_JOB</td>
<td>String</td>
<td>任务结果信息</td>
</tr>
</tbody></table>
<h2 id='3e45815d37'>通话记录回调接口</h2>
<p>当一次通话完成后，探意机器人会自动调用回调程序向用户配置的回调地址发送本次通话详情。</p>

<blockquote>
<p>入参JSON实例:</p>
</blockquote>
<pre class="highlight plaintext"><code>    {
        "dataType":"ROBOT_CALL_RECORD",
        "data":{
            "callRecordId":119,
            "tenantId":1,
            "robotCallJobId":43,
            "dialogFlowId":12,
            "calledPhoneNumber":"17751279857",
            "resultStatus":"ANSWERED",
            "intentLevel":"A",
            "customerConcern":[
                "价格"
            ],
            "fullAudioUrl":"https://ai-call-platform-daily.oss-cn-hangzhou.aliyuncs.com/DialogueRecording/TenantId1/CallJobId43/RHGKTLBG_TaskId_1305203/ai_user.wav",
            "customerAudioUrl":"https://ai-call-platform-daily.oss-cn-hangzhou.aliyuncs.com/DialogueRecording/TenantId1/CallJobId43/RHGKTLBG_TaskId_1305203/user.wav",
            "analysisBasis":"判断依据",
            "startTime":"2018-10-12 18:46:55",
            "endTime":"2018-10-12 18:47:42",
            "chatDuration":37,
            "chatRound":0,
            "attributes":["有钱"],
            "callDetailList":[
                {
                    "text":"喂，您好, （停顿2s），您好，想问下您位于江北纬七路隧道附近，均价17000的高端商业综合体，我可以给您介绍一下吗？",
                    "type":"ROBOT",
                    "callDetailId": 1
                },
                {
                    "text":"嗯",
                    "type":"PERSON",
                    "callDetailId": 2
                }
            ]
        }
    }
</code></pre><h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>dataType</td>
<td>String</td>
<td>回调类型（始终为 ROBOT_CALL_RECORD ）</td>
</tr>
<tr>
<td>callRecordId</td>
<td>Long</td>
<td>通话记录id</td>
</tr>
<tr>
<td>tenantId</td>
<td>Long</td>
<td>公司id</td>
</tr>
<tr>
<td>dialogFlowId</td>
<td>Long</td>
<td>话术id</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>calledPhoneNumber</td>
<td>String</td>
<td>电话号码</td>
</tr>
<tr>
<td>resultStatus</td>
<td>String</td>
<td>通话结果 (ANSWERED, &quot;已接听&quot;),(NO_ANSWER, &quot;未接&quot;),(BUSY, &quot;占线&quot;),(POWER_OFF, &quot;关机&quot;),(OUT_OF_SERVICE, &quot;被叫停机&quot;),(REFUSED, &quot;拒接&quot;),(VACANT_NUMBER, &quot;空号&quot;),(CAN_NOT_CONNECT, &quot;无法接通&quot;), (FROM_PHONE_ERROR, &quot;主叫号码不可用&quot;),(SYSTEM_ERROR, &quot;外呼失败&quot;)</td>
</tr>
<tr>
<td>intentLevel</td>
<td>String</td>
<td>意向等级, (A, &quot;A级(较强)&quot;),(B, &quot;B级(一般)&quot;),(C, &quot;C级(无法判断)&quot;),(D, &quot;D级(很少)&quot;),(E, &quot;E级别(需要再次跟进)&quot;),(F, &quot;F级别(无需再次跟进)&quot;)</td>
</tr>
<tr>
<td>customerConcern</td>
<td>String</td>
<td>用户关注点</td>
</tr>
<tr>
<td>fullAudioUrl</td>
<td>String</td>
<td>用户和AI合成的录音</td>
</tr>
<tr>
<td>customerAudioUrl</td>
<td>String</td>
<td>用户的录音</td>
</tr>
<tr>
<td>analysisBasis</td>
<td>String</td>
<td>意向分析判断依据</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>拨打开始时间</td>
</tr>
<tr>
<td>endTime</td>
<td>String</td>
<td>拨打结束时间</td>
</tr>
<tr>
<td>chatDuration</td>
<td>Long</td>
<td>通话时长(单位秒)</td>
</tr>
<tr>
<td>chatRound</td>
<td>Long</td>
<td>通话轮次</td>
</tr>
<tr>
<td>attributes</td>
<td>String</td>
<td>用户属性</td>
</tr>
<tr>
<td>callDetailList</td>
<td>List</td>
<td>对话内容</td>
</tr>
<tr>
<td>text</td>
<td>String</td>
<td>对话说的具体文字内容</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>说话者 (PERSON, &quot;人&quot;), (ROBOT, &quot;机器人&quot;)</td>
</tr>
<tr>
<td>callDetailId</td>
<td>Long</td>
<td>对话详情id</td>
</tr>
</tbody></table>
<h2 id='0510043503'>任务完成详情回调接口</h2>
<p>当一次任务完成后，探意机器人会自动调用回调程序向用户配置的回调地址发送本次任务结束的信息。</p>

<blockquote>
<p>入参JSON实例:</p>
</blockquote>
<pre class="highlight plaintext"><code>    {
        "dataType":"ROBOT_CALL_JOB",
        "data":{
            "robotCallJobId":43,
            "tenantId":1,
            "status":"COMPLETED"
        }
    }
</code></pre><h3 id='2eb6f47757-2'>请求参数:</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>dataType</td>
<td>String</td>
<td>回调类型（始终为 ROBOT_CALL_JOB ）</td>
</tr>
<tr>
<td>robotCallJobId</td>
<td>Long</td>
<td>任务id</td>
</tr>
<tr>
<td>tenantId</td>
<td>Long</td>
<td>公司id</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>任务状态 ( 始终为 COMPLETED)</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
